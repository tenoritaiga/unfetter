(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/PVG":function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){},a=e("pMnS"),i=e("t68o"),o=e("NcP4"),d=e("0AQM"),r=e("/kFH"),c=e("JMrK"),p=e("R/I2"),s=e("T8bg"),m=e("anPl"),f=e("La40"),g=e("dWZg"),v=e("Wf4p"),b=e("lLAP"),h=e("ZYCi"),R=e("Rlre"),k=e("Fzqc"),y=e("qAlS"),A=e("Ip0R"),C=function(){this.navigations=[{url:"approval",label:"Users Pending Approval"}]},O=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function w(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,7,"span",[["class","mat-tab-link"],["mat-tab-link",""],["routerLinkActive",""]],[[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u["\u0275nov"](l,1)._handleClick(e)&&t),"click"===n&&(t=!1!==u["\u0275nov"](l,2).onClick()&&t),t},null,null)),u["\u0275did"](1,147456,[[1,4]],0,f.h,[f.i,u.ElementRef,u.NgZone,g.a,[2,v.m],[8,null],b.h],{active:[0,"active"]},null),u["\u0275did"](2,16384,[[2,4]],0,h.m,[h.l,h.a,[8,null],u.Renderer2,u.ElementRef],{routerLink:[0,"routerLink"]},null),u["\u0275pad"](3,1),u["\u0275did"](4,1720320,[["rla",4]],2,h.n,[h.l,u.ElementRef,u.Renderer2,u.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),u["\u0275qud"](603979776,2,{links:1}),u["\u0275qud"](603979776,3,{linksWithHrefs:1}),(l()(),u["\u0275ted"](7,null,[" "," "]))],function(l,n){l(n,1,0,u["\u0275nov"](n,4).isActive),l(n,2,0,l(n,3,0,n.context.$implicit.url)),l(n,4,0,"")},function(l,n){l(n,0,0,u["\u0275nov"](n,1).active,u["\u0275nov"](n,1).disabled.toString(),u["\u0275nov"](n,1).tabIndex,u["\u0275nov"](n,1).disabled,u["\u0275nov"](n,1).active),l(n,7,0,n.context.$implicit.label)})}function z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,11,"div",[["class","container"],["id","organizationsLayout"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,6,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,4,"nav",[["class","mat-tab-nav-bar"],["mat-tab-nav-bar",""]],null,null,null,R.e,R.c)),u["\u0275did"](5,3325952,null,1,f.i,[u.ElementRef,[2,k.b],u.NgZone,u.ChangeDetectorRef,y.e],null,null),u["\u0275qud"](603979776,1,{_tabLinks:1}),(l()(),u["\u0275and"](16777216,null,0,1,null,w)),u["\u0275did"](8,278528,null,0,A.n,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),u["\u0275did"](11,212992,null,0,h.q,[h.b,u.ViewContainerRef,u.ComponentFactoryResolver,[8,null],u.ChangeDetectorRef],null,null)],function(l,n){l(n,8,0,n.component.navigations),l(n,11,0)},null)}var E=u["\u0275ccf"]("organizations-layout",C,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"organizations-layout",[],null,null,null,z,O)),u["\u0275did"](1,49152,null,0,C,[],null,null)],null,null)},{},{},[]),I=e("bujt"),N=e("UodH"),U=e("wFw1"),x=e("bEtF"),M=e("JLTr"),_=function(){function l(l){this.genericApi=l,this.orgMngtUrl=M.a.ORGANIZATIONS_MANAGEMENT_URL,this.identitiesUrl=M.a.IDENTITIES_URL}return l.prototype.getPendingApprovals=function(){return this.genericApi.get(this.orgMngtUrl+"/pending-approval")},l.prototype.processUser=function(l,n){return this.genericApi.post(this.orgMngtUrl+"/process-approval/"+l,n)},l}(),L=e("tVj7"),P=Object.assign||function(l){for(var n,e=1,u=arguments.length;e<u;e++)for(var t in n=arguments[e])Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);return l},S=function(){function l(l,n){this.organizationsService=l,this.usersService=n,this.message="If the same user is pending approval for multiple groups, he/she will have an entry in the list for each group."}return l.prototype.ngOnInit=function(){var l=this;this.fetchUsers();var n=this.usersService.getOrganizations().subscribe(function(n){l.organizations=n.map(function(l){return l.attributes})},function(l){console.log(l)},function(){n.unsubscribe()})},l.prototype.userAction=function(l,n){var e,u=this;switch(n){case"APPROVE_USER":e=P({},l.organizations,{approved:!0});break;case"DENY_USER":e=P({},l.organizations,{approved:!1});break;default:return void(this.message="Error processing user action.")}var t=this.organizationsService.processUser(l._id,{data:{organizations:e}}).subscribe(function(l){u.fetchUsers()},function(l){console.log(l)},function(){t.unsubscribe()})},l.prototype.getOrgName=function(l){var n=this.organizations.find(function(n){return n.id===l});return n?n.name:"Unknown"},l.prototype.fetchUsers=function(){var l=this,n=this.organizationsService.getPendingApprovals().subscribe(function(n){l.users=n.attributes&&n.attributes.length?n.attributes:[]},function(l){console.log(l)},function(){n.unsubscribe()})},l}(),F=u["\u0275crt"]({encapsulation:0,styles:[["#approveUsers[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}#approveUsers[_ngcontent-%COMP%]   #actionHeader[_ngcontent-%COMP%]{padding-right:30px}"]],data:{}});function T(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","uf-well"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.message)})}function D(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["",""])),(l()(),u["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,["",", ",""])),(l()(),u["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""])),(l()(),u["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,8,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](10,0,null,null,3,"button",[["class","mat-24"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.userAction(l.context.$implicit,"APPROVE_USER")&&u),u},I.d,I.b)),u["\u0275did"](11,180224,null,0,N.b,[u.ElementRef,g.a,b.h,[2,U.a]],null,null),(l()(),u["\u0275eld"](12,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["check_circle"])),(l()(),u["\u0275eld"](14,0,null,null,3,"button",[["class","mat-24"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.userAction(l.context.$implicit,"DENY_USER")&&u),u},I.d,I.b)),u["\u0275did"](15,180224,null,0,N.b,[u.ElementRef,g.a,b.h,[2,U.a]],null,null),(l()(),u["\u0275eld"](16,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["remove_circle"]))],null,function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.userName),l(n,4,0,n.context.$implicit.lastName,n.context.$implicit.firstName),l(n,6,0,n.context.$implicit.email),l(n,8,0,e.getOrgName(n.context.$implicit.organizations.id)),l(n,10,0,u["\u0275nov"](n,11).disabled||null,"NoopAnimations"===u["\u0275nov"](n,11)._animationMode),l(n,14,0,u["\u0275nov"](n,15).disabled||null,"NoopAnimations"===u["\u0275nov"](n,15)._animationMode)})}function j(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Approve / Deny Users"])),(l()(),u["\u0275eld"](3,0,null,null,14,"table",[["class","table table-striped"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,10,"thead",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["User Name"])),(l()(),u["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Name"])),(l()(),u["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Email"])),(l()(),u["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Organization"])),(l()(),u["\u0275eld"](13,0,null,null,1,"th",[["class","text-right"],["id","actionHeader"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Approve / Deny User"])),(l()(),u["\u0275eld"](15,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,D)),u["\u0275did"](17,278528,null,0,A.n,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,17,0,n.component.users)},null)}function V(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","alert-alert-info"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" There are no users pending organization approval. "]))],null,null)}function Z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,7,"div",[["class","row"],["id","approveUsers"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,6,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,T)),u["\u0275did"](3,16384,null,0,A.o,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,j)),u["\u0275did"](5,16384,null,0,A.o,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,V)),u["\u0275did"](7,16384,null,0,A.o,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.message),l(n,5,0,e.users&&e.users.length&&e.organizations&&e.organizations.length),l(n,7,0,!(e.users&&e.users.length))},null)}var Y=u["\u0275ccf"]("organization-approval",S,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"organization-approval",[],null,null,null,Z,F)),u["\u0275did"](1,114688,null,0,S,[_,L.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),$=e("gIcY"),q=e("NaJL"),G=e("Axip"),H=e("ZYjt"),J=e("eDkP"),Q=e("4tE/"),W=e("M2Lx"),B=e("o3x0"),K=e("mVsa"),X=e("uGex"),ll=e("v9Dh"),nl=e("4epT"),el=e("LOpI"),ul=e("t/Na"),tl=e("7dP1"),al=e("yGQT"),il=e("nb3L"),ol=e("xYQj"),dl=e("KDw0"),rl=e("wmQ5"),cl=e("4c35"),pl=e("6TXw"),sl=e("6Wmm"),ml=e("u7R8"),fl=e("FVSy"),gl=e("de3e"),vl=e("/dO6"),bl=e("YhbO"),hl=e("jlZm"),Rl=e("SMsm"),kl=e("/VYK"),yl=e("seP3"),Al=e("b716"),Cl=e("LC5p"),Ol=e("0/Q6"),wl=e("Blfk"),zl=e("9It4"),El=e("Nsh5"),Il=e("y4qS"),Nl=e("BHnd"),Ul=e("8mMr"),xl=e("w1+i"),Ml=e("dagM"),_l=e("Z+uX"),Ll=e("Lwpp"),Pl=e("zrcO"),Sl=e("YSh2"),Fl=e("Wmeo"),Tl=e("bRD0"),Dl=e("MSZs"),jl=e("orXy"),Vl=e("c6Eg"),Zl=e("Fm+C");e.d(n,"OrganizationsModuleNgFactory",function(){return Yl});var Yl=u["\u0275cmf"](t,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,i.a,o.a,d.a,r.a,c.a,p.a,s.a,m.a,E,Y]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,A.q,A.p,[u.LOCALE_ID,[2,A.E]]),u["\u0275mpd"](4608,$.B,$.B,[]),u["\u0275mpd"](4608,$.g,$.g,[]),u["\u0275mpd"](5120,q.b,q.c,[]),u["\u0275mpd"](5120,G.d,G.a,[H.b,q.b,[3,G.d]]),u["\u0275mpd"](4608,J.c,J.c,[J.i,J.e,u.ComponentFactoryResolver,J.h,J.f,u.Injector,u.NgZone,A.d,k.b]),u["\u0275mpd"](5120,J.j,J.k,[J.c]),u["\u0275mpd"](5120,Q.b,Q.c,[J.c]),u["\u0275mpd"](4608,W.c,W.c,[]),u["\u0275mpd"](4608,v.d,v.d,[]),u["\u0275mpd"](5120,B.c,B.d,[J.c]),u["\u0275mpd"](4608,B.e,B.e,[J.c,u.Injector,[2,A.j],[2,B.b],B.c,[3,B.e],J.e]),u["\u0275mpd"](5120,K.b,K.g,[J.c]),u["\u0275mpd"](5120,X.a,X.b,[J.c]),u["\u0275mpd"](5120,ll.b,ll.c,[J.c]),u["\u0275mpd"](5120,nl.c,nl.a,[[3,nl.c]]),u["\u0275mpd"](4608,el.c,el.c,[[2,ul.c],H.c,el.d]),u["\u0275mpd"](4608,tl.a,tl.a,[h.l,al.n]),u["\u0275mpd"](4608,il.a,il.a,[]),u["\u0275mpd"](4608,ol.a,ol.a,[]),u["\u0275mpd"](4608,dl.a,dl.a,[x.a]),u["\u0275mpd"](4608,rl.e,rl.e,[]),u["\u0275mpd"](4608,_,_,[x.a]),u["\u0275mpd"](1073742336,A.c,A.c,[]),u["\u0275mpd"](1073742336,h.p,h.p,[[2,h.v],[2,h.l]]),u["\u0275mpd"](1073742336,$.y,$.y,[]),u["\u0275mpd"](1073742336,$.n,$.n,[]),u["\u0275mpd"](1073742336,$.v,$.v,[]),u["\u0275mpd"](1073742336,q.a,q.a,[]),u["\u0275mpd"](1073742336,G.c,G.c,[]),u["\u0275mpd"](1073742336,k.a,k.a,[]),u["\u0275mpd"](1073742336,cl.g,cl.g,[]),u["\u0275mpd"](1073742336,g.b,g.b,[]),u["\u0275mpd"](1073742336,y.b,y.b,[]),u["\u0275mpd"](1073742336,J.g,J.g,[]),u["\u0275mpd"](1073742336,el.b,el.b,[]),u["\u0275mpd"](1073742336,pl.b,pl.b,[]),u["\u0275mpd"](1073742336,v.n,v.n,[[2,v.f]]),u["\u0275mpd"](1073742336,v.z,v.z,[]),u["\u0275mpd"](1073742336,v.x,v.x,[]),u["\u0275mpd"](1073742336,v.u,v.u,[]),u["\u0275mpd"](1073742336,Q.e,Q.e,[]),u["\u0275mpd"](1073742336,W.d,W.d,[]),u["\u0275mpd"](1073742336,b.a,b.a,[]),u["\u0275mpd"](1073742336,sl.b,sl.b,[]),u["\u0275mpd"](1073742336,N.c,N.c,[]),u["\u0275mpd"](1073742336,ml.d,ml.d,[]),u["\u0275mpd"](1073742336,fl.h,fl.h,[]),u["\u0275mpd"](1073742336,gl.c,gl.c,[]),u["\u0275mpd"](1073742336,vl.e,vl.e,[]),u["\u0275mpd"](1073742336,B.k,B.k,[]),u["\u0275mpd"](1073742336,bl.c,bl.c,[]),u["\u0275mpd"](1073742336,hl.c,hl.c,[]),u["\u0275mpd"](1073742336,Rl.b,Rl.b,[]),u["\u0275mpd"](1073742336,kl.c,kl.c,[]),u["\u0275mpd"](1073742336,yl.e,yl.e,[]),u["\u0275mpd"](1073742336,Al.c,Al.c,[]),u["\u0275mpd"](1073742336,v.p,v.p,[]),u["\u0275mpd"](1073742336,Cl.a,Cl.a,[]),u["\u0275mpd"](1073742336,Ol.d,Ol.d,[]),u["\u0275mpd"](1073742336,K.e,K.e,[]),u["\u0275mpd"](1073742336,X.d,X.d,[]),u["\u0275mpd"](1073742336,ll.e,ll.e,[]),u["\u0275mpd"](1073742336,nl.d,nl.d,[]),u["\u0275mpd"](1073742336,wl.c,wl.c,[]),u["\u0275mpd"](1073742336,zl.c,zl.c,[]),u["\u0275mpd"](1073742336,El.h,El.h,[]),u["\u0275mpd"](1073742336,Il.p,Il.p,[]),u["\u0275mpd"](1073742336,Nl.m,Nl.m,[]),u["\u0275mpd"](1073742336,f.j,f.j,[]),u["\u0275mpd"](1073742336,Ul.b,Ul.b,[]),u["\u0275mpd"](1073742336,xl.a,xl.a,[]),u["\u0275mpd"](1073742336,Ml.a,Ml.a,[]),u["\u0275mpd"](1073742336,_l.c,_l.c,[]),u["\u0275mpd"](1073742336,Ll.d,Ll.d,[]),u["\u0275mpd"](1073742336,rl.f,rl.f,[]),u["\u0275mpd"](1073742336,Pl.a,Pl.a,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](256,vl.a,{separatorKeyCodes:[Sl.f]},[]),u["\u0275mpd"](256,el.d,xl.b,[]),u["\u0275mpd"](256,Fl.a,xl.c,[]),u["\u0275mpd"](1024,h.j,function(){return[[{path:"login-callback/:token/:registered/:method",component:Tl.a},{path:"register",component:Dl.a},{path:"profile/:id",component:jl.a,canActivate:[Vl.a]},{path:"settings",component:Zl.a,canActivate:[Vl.a]}],[{path:"",component:C,children:[{path:"",redirectTo:"/organizations/approval",pathMatch:"full"},{path:"approval",component:S}]}]]},[])])})}}]);