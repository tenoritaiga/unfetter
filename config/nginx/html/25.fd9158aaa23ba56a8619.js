(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+JSH":function(e,t,n){"use strict";n.r(t);var l=n("CcnG"),i=n("UodH"),a=n("FVSy"),r=n("de3e"),s=n("SMsm"),o=n("b716"),u=n("Y3Vf"),c=n("gIcY"),d=function(){this.title="",this.description="",this.created_by_ref=""},p=n("z6jJ"),b=function(){function e(e,t,n){this.formBuilder=e,this.location=t,this.store=n}return e.prototype.ngOnInit=function(){this.assessMeta=new d,this.resetForm(),this.store.dispatch(new u.Ka(this.assessMeta.title))},e.prototype.resetForm=function(e){var t;e&&e.preventDefault(),this.form=(t||(t=new d),new c.k({title:new c.h(t.title||"",c.x.required),description:new c.h(t.description||""),created_by_ref:new c.h(t.created_by_ref||"",c.x.required)}))},e.prototype.submitForm=function(){var e=new p.AssessmentSet;e.name=this.form.value.title,e.description=this.form.value.description,e.created_by_ref=this.form.value.created_by_ref,e.created=(new Date).toISOString(),e.assessments=[],e.metaProperties={published:!1},this.store.dispatch(new u.Ia(e))},e.prototype.formToAssessment=function(e){return Object.assign(new d,e.value)},e.prototype.onCancel=function(e){this.location.back()},e.prototype.onTitleBlur=function(e){this.store.dispatch(new u.Ka(this.form.value.title)),this.store.dispatch(new u.v(!0))},e.prototype.orgSelected=function(e){this.form.get("created_by_ref").patchValue(e)},e}(),f=n("FYXD"),m=n("ad02"),h=n("VnD/"),g=n("67Y/"),v=n("26FU"),y=function(){function e(e,t,n,l){this.store=e,this.location=t,this.router=n,this.changeDetectorRef=l,this.title=new v.a("").asObservable(),this.showBackButton=new v.a(!1).asObservable()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.title=this.store.select("baseline").pipe(Object(h.a)(function(e){return void 0!==e}),Object(m.a)(),Object(f.a)("baseline"),Object(f.a)("name")),this.showBackButton=this.store.select("baseline").pipe(Object(f.a)("backButton"),Object(h.a)(function(e){return e&&"boolean"==typeof e}),Object(m.a)(),Object(g.a)(function(t){return e.changeDetectorRef.detectChanges(),t})),this.changeDetectorRef.detectChanges(),this.store.select("baseline").pipe(Object(f.a)("baseline"),Object(m.a)()).subscribe(function(t){e.baselineId=t.id},function(e){return console.log(e)})},e.prototype.onBack=function(e){this.router.navigate(["/baseline/result/summary/"+this.baselineId])},e}(),O=function(){},_=n("pMnS"),j=n("t68o"),C=n("NcP4"),A=n("0AQM"),S=n("bujt"),w=n("dWZg"),k=n("lLAP"),x=n("wFw1"),P=n("Mr+X"),R=n("Ip0R"),E=n("ZYCi"),T=n("yGQT"),M=l["\u0275crt"]({encapsulation:0,styles:[[".flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]   .flex-grow[_ngcontent-%COMP%]{flex:1 1 auto}.flex-cols[_ngcontent-%COMP%]{flex-direction:column}.titleWrapper[_ngcontent-%COMP%]{background:#cfd8dc;height:128px;position:relative}.contentWrapper[_ngcontent-%COMP%]{margin-top:-64px}.center[_ngcontent-%COMP%]{margin:0 auto}.title[_ngcontent-%COMP%]{position:absolute;margin-top:24px;margin-left:56px}.banner-wrapper[_ngcontent-%COMP%]{background-color:#cfd8dc;color:rgba(0,0,0,.87)}"]],data:{animation:[{type:7,name:"fadeInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"0.1s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"0.1s ease-in-out"}],options:null}],options:{}}]}});function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"button",[["class","mat-24"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onBack(n)&&l),l},S.d,S.b)),l["\u0275did"](2,180224,null,0,i.b,[l.ElementRef,w.a,k.h,[2,x.a]],null,null),(e()(),l["\u0275eld"](3,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,P.b,P.a)),l["\u0275did"](4,638976,null,0,s.a,[l.ElementRef,s.c,[8,null]],null,null),(e()(),l["\u0275ted"](-1,0,["keyboard_backspace"]))],function(e,t){e(t,4,0)},function(e,t){e(t,1,0,l["\u0275nov"](t,2).disabled||null,"NoopAnimations"===l["\u0275nov"](t,2)._animationMode),e(t,3,0,l["\u0275nov"](t,4).inline)})}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[],[[24,"@fadeInOut",0]],null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275pid"](131072,R.b,[l.ChangeDetectorRef])],null,function(e,t){var n=t.component;e(t,0,0,void 0),e(t,1,0,l["\u0275unv"](t,1,0,l["\u0275nov"](t,2).transform(n.title)))})}function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","layout"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","titleWrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,6,"span",[["class","title mat-title"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,I)),l["\u0275did"](4,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,R.b,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,B)),l["\u0275did"](7,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,R.b,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](9,0,null,null,3,"div",[["class","fadeIn flex contentWrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,2,"div",[["class","center"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](12,212992,null,0,E.q,[E.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null)],function(e,t){var n=t.component;e(t,4,0,l["\u0275unv"](t,4,0,l["\u0275nov"](t,5).transform(n.showBackButton))),e(t,7,0,l["\u0275unv"](t,7,0,l["\u0275nov"](t,8).transform(n.title))),e(t,12,0)},null)}var D=l["\u0275ccf"]("baseline-layout",y,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"baseline-layout",[],null,null,null,L,M)),l["\u0275did"](1,4308992,null,0,y,[T.n,R.j,E.l,l.ChangeDetectorRef],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),N=n("seP3"),G=n("lzlj"),F=n("dJrM"),q=n("Wf4p"),W=n("Fzqc"),U=n("/VYK"),V=n("Ia4W"),z=n("/tn+"),H=n("KDw0"),Y=l["\u0275crt"]({encapsulation:0,styles:[[".flex-cols[_ngcontent-%COMP%]{flex-direction:column}.mb-18[_ngcontent-%COMP%]{margin-bottom:18px}.assess-create-card[_ngcontent-%COMP%]{width:835px}.full-width[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{margin:0 auto}"]],data:{}});function J(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l["\u0275did"](1,16384,[[4,4]],0,N.b,[],null,null),(e()(),l["\u0275ted"](-1,null,[" Title is "])),(e()(),l["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["required"]))],null,function(e,t){e(t,0,0,l["\u0275nov"](t,1).id)})}function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,58,"div",[["class","center"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,57,"div",[["class","mb-18 unf-mat-card assess-create-card"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,56,"mat-card",[["class","mat-card"]],null,null,null,G.d,G.a)),l["\u0275did"](3,49152,null,0,a.a,[],null,null),(e()(),l["\u0275eld"](4,0,null,0,54,"form",[["class","assess-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0,a=e.component;return"submit"===t&&(i=!1!==l["\u0275nov"](e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==l["\u0275nov"](e,6).onReset()&&i),"ngSubmit"===t&&(i=!1!==a.submitForm()&&i),i},null,null)),l["\u0275did"](5,16384,null,0,c.A,[],null,null),l["\u0275did"](6,540672,null,0,c.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,c.c,null,[c.l]),l["\u0275did"](8,16384,null,0,c.s,[[4,c.c]],null,null),(e()(),l["\u0275eld"](9,0,null,null,41,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l["\u0275did"](10,16384,null,0,a.d,[],null,null),(e()(),l["\u0275eld"](11,0,null,null,20,"mat-form-field",[["class","full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,F.b,F.a)),l["\u0275did"](12,7389184,null,7,N.c,[l.ElementRef,l.ChangeDetectorRef,[2,q.j],[2,W.b],[2,N.a],w.a,l.NgZone,[2,x.a]],null,null),l["\u0275qud"](335544320,1,{_control:0}),l["\u0275qud"](335544320,2,{_placeholderChild:0}),l["\u0275qud"](335544320,3,{_labelChild:0}),l["\u0275qud"](603979776,4,{_errorChildren:1}),l["\u0275qud"](603979776,5,{_hintChildren:1}),l["\u0275qud"](603979776,6,{_prefixChildren:1}),l["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),l["\u0275eld"](20,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","title"],["matInput",""],["placeholder","Title"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,21)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,21).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,21)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,21)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,28)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,28)._focusChanged(!0)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,28)._onInput()&&i),"blur"===t&&(i=!1!==a.onTitleBlur(n)&&i),i},null,null)),l["\u0275did"](21,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275did"](22,16384,null,0,c.w,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,c.o,function(e){return[e]},[c.w]),l["\u0275prd"](1024,null,c.p,function(e){return[e]},[c.d]),l["\u0275did"](25,671744,null,0,c.j,[[3,c.c],[6,c.o],[8,null],[6,c.p],[2,c.C]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,c.q,null,[c.j]),l["\u0275did"](27,16384,null,0,c.r,[[4,c.q]],null,null),l["\u0275did"](28,999424,null,0,o.b,[l.ElementRef,w.a,[6,c.q],[2,c.t],[2,c.l],q.d,[8,null],U.a,l.NgZone],{placeholder:[0,"placeholder"],required:[1,"required"],value:[2,"value"]},null),l["\u0275prd"](2048,[[1,4]],N.d,null,[o.b]),(e()(),l["\u0275and"](16777216,null,5,1,null,J)),l["\u0275did"](31,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](32,0,null,null,16,"mat-form-field",[["class","full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,F.b,F.a)),l["\u0275did"](33,7389184,null,7,N.c,[l.ElementRef,l.ChangeDetectorRef,[2,q.j],[2,W.b],[2,N.a],w.a,l.NgZone,[2,x.a]],null,null),l["\u0275qud"](335544320,8,{_control:0}),l["\u0275qud"](335544320,9,{_placeholderChild:0}),l["\u0275qud"](335544320,10,{_labelChild:0}),l["\u0275qud"](603979776,11,{_errorChildren:1}),l["\u0275qud"](603979776,12,{_hintChildren:1}),l["\u0275qud"](603979776,13,{_prefixChildren:1}),l["\u0275qud"](603979776,14,{_suffixChildren:1}),(e()(),l["\u0275eld"](41,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["matInput",""],["placeholder","Description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l["\u0275nov"](e,42)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,42).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,42)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,42)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,47)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,47)._focusChanged(!0)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,47)._onInput()&&i),i},null,null)),l["\u0275did"](42,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275prd"](1024,null,c.p,function(e){return[e]},[c.d]),l["\u0275did"](44,671744,null,0,c.j,[[3,c.c],[8,null],[8,null],[6,c.p],[2,c.C]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,c.q,null,[c.j]),l["\u0275did"](46,16384,null,0,c.r,[[4,c.q]],null,null),l["\u0275did"](47,999424,null,0,o.b,[l.ElementRef,w.a,[6,c.q],[2,c.t],[2,c.l],q.d,[8,null],U.a,l.NgZone],{placeholder:[0,"placeholder"],value:[1,"value"]},null),l["\u0275prd"](2048,[[8,4]],N.d,null,[o.b]),(e()(),l["\u0275eld"](49,0,null,null,1,"created-by-ref",[],null,[[null,"orgSelected"]],function(e,t,n){var l=!0;return"orgSelected"===t&&(l=!1!==e.component.orgSelected(n)&&l),l},V.b,V.a)),l["\u0275did"](50,114688,null,0,z.a,[T.n,H.a],null,{orgSelected:"orgSelected"}),(e()(),l["\u0275eld"](51,0,null,null,7,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l["\u0275did"](52,16384,null,0,a.b,[],null,null),(e()(),l["\u0275eld"](53,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCancel(n)&&l),l},S.d,S.b)),l["\u0275did"](54,180224,null,0,i.b,[l.ElementRef,w.a,k.h,[2,x.a]],null,null),(e()(),l["\u0275ted"](-1,0,["CANCEL"])),(e()(),l["\u0275eld"](56,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,S.d,S.b)),l["\u0275did"](57,180224,null,0,i.b,[l.ElementRef,w.a,k.h,[2,x.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),l["\u0275ted"](-1,0,["CONTINUE"]))],function(e,t){var n=t.component;e(t,6,0,n.form),e(t,22,0,""),e(t,25,0,"title"),e(t,28,0,"Title","",n.assessMeta.title),e(t,31,0,n.form.get("title").hasError("required")),e(t,44,0,"description"),e(t,47,0,"Description",n.assessMeta.description),e(t,50,0),e(t,57,0,"INVALID"===n.form.status,"primary")},function(e,t){e(t,4,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),e(t,11,1,["standard"==l["\u0275nov"](t,12).appearance,"fill"==l["\u0275nov"](t,12).appearance,"outline"==l["\u0275nov"](t,12).appearance,"legacy"==l["\u0275nov"](t,12).appearance,l["\u0275nov"](t,12)._control.errorState,l["\u0275nov"](t,12)._canLabelFloat,l["\u0275nov"](t,12)._shouldLabelFloat(),l["\u0275nov"](t,12)._hideControlPlaceholder(),l["\u0275nov"](t,12)._control.disabled,l["\u0275nov"](t,12)._control.autofilled,l["\u0275nov"](t,12)._control.focused,"accent"==l["\u0275nov"](t,12).color,"warn"==l["\u0275nov"](t,12).color,l["\u0275nov"](t,12)._shouldForward("untouched"),l["\u0275nov"](t,12)._shouldForward("touched"),l["\u0275nov"](t,12)._shouldForward("pristine"),l["\u0275nov"](t,12)._shouldForward("dirty"),l["\u0275nov"](t,12)._shouldForward("valid"),l["\u0275nov"](t,12)._shouldForward("invalid"),l["\u0275nov"](t,12)._shouldForward("pending"),!l["\u0275nov"](t,12)._animationsEnabled]),e(t,20,1,[l["\u0275nov"](t,22).required?"":null,l["\u0275nov"](t,27).ngClassUntouched,l["\u0275nov"](t,27).ngClassTouched,l["\u0275nov"](t,27).ngClassPristine,l["\u0275nov"](t,27).ngClassDirty,l["\u0275nov"](t,27).ngClassValid,l["\u0275nov"](t,27).ngClassInvalid,l["\u0275nov"](t,27).ngClassPending,l["\u0275nov"](t,28)._isServer,l["\u0275nov"](t,28).id,l["\u0275nov"](t,28).placeholder,l["\u0275nov"](t,28).disabled,l["\u0275nov"](t,28).required,l["\u0275nov"](t,28).readonly,l["\u0275nov"](t,28)._ariaDescribedby||null,l["\u0275nov"](t,28).errorState,l["\u0275nov"](t,28).required.toString()]),e(t,32,1,["standard"==l["\u0275nov"](t,33).appearance,"fill"==l["\u0275nov"](t,33).appearance,"outline"==l["\u0275nov"](t,33).appearance,"legacy"==l["\u0275nov"](t,33).appearance,l["\u0275nov"](t,33)._control.errorState,l["\u0275nov"](t,33)._canLabelFloat,l["\u0275nov"](t,33)._shouldLabelFloat(),l["\u0275nov"](t,33)._hideControlPlaceholder(),l["\u0275nov"](t,33)._control.disabled,l["\u0275nov"](t,33)._control.autofilled,l["\u0275nov"](t,33)._control.focused,"accent"==l["\u0275nov"](t,33).color,"warn"==l["\u0275nov"](t,33).color,l["\u0275nov"](t,33)._shouldForward("untouched"),l["\u0275nov"](t,33)._shouldForward("touched"),l["\u0275nov"](t,33)._shouldForward("pristine"),l["\u0275nov"](t,33)._shouldForward("dirty"),l["\u0275nov"](t,33)._shouldForward("valid"),l["\u0275nov"](t,33)._shouldForward("invalid"),l["\u0275nov"](t,33)._shouldForward("pending"),!l["\u0275nov"](t,33)._animationsEnabled]),e(t,41,1,[l["\u0275nov"](t,46).ngClassUntouched,l["\u0275nov"](t,46).ngClassTouched,l["\u0275nov"](t,46).ngClassPristine,l["\u0275nov"](t,46).ngClassDirty,l["\u0275nov"](t,46).ngClassValid,l["\u0275nov"](t,46).ngClassInvalid,l["\u0275nov"](t,46).ngClassPending,l["\u0275nov"](t,47)._isServer,l["\u0275nov"](t,47).id,l["\u0275nov"](t,47).placeholder,l["\u0275nov"](t,47).disabled,l["\u0275nov"](t,47).required,l["\u0275nov"](t,47).readonly,l["\u0275nov"](t,47)._ariaDescribedby||null,l["\u0275nov"](t,47).errorState,l["\u0275nov"](t,47).required.toString()]),e(t,51,0,"end"===l["\u0275nov"](t,52).align),e(t,53,0,l["\u0275nov"](t,54).disabled||null,"NoopAnimations"===l["\u0275nov"](t,54)._animationMode),e(t,56,0,l["\u0275nov"](t,57).disabled||null,"NoopAnimations"===l["\u0275nov"](t,57)._animationMode)})}var $=l["\u0275ccf"]("unf-baseline-create",b,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"unf-baseline-create",[],null,null,null,Z,Y)),l["\u0275did"](1,114688,null,0,b,[c.g,R.j,T.n],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),Q=n("c4Wm"),K=n("Nsh5"),X=n("Q5te"),ee=n("GdAB"),te=n("9p7y"),ne=n("Au3p"),le=n("noaG"),ie=n("o3x0"),ae=n("lazE"),re=n("hCys"),se=n("HlX0"),oe=n("z3JL"),ue=n("6UMx"),ce=n("0/Q6"),de=n("21zT"),pe=n("ZmpH"),be=n("Rlre"),fe=n("La40"),me=n("qAlS"),he=n("JLTr"),ge=n("mrSG"),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(ge.__extends)(t,e),t.sortByRiskDesc=function(){return function(e,t){return t.risk||0===t.risk?e.risk||0===e.risk?t.risk-e.risk:1:e.risk||0===e.risk?-1:0}},t.sortByAvgRiskDesc=function(){return function(e,t){return t.avgRisk||0===t.avgRisk?e.avgRisk||0===e.avgRisk?t.avgRisk-e.avgRisk:1:e.avgRisk||0===e.avgRisk?-1:0}},t.sortBySophisticationAsc=function(){return function(e,t){return e.x_unfetter_sophistication_level||0===e.x_unfetter_sophistication_level?t.x_unfetter_sophistication_level||0===t.x_unfetter_sophistication_level?e.x_unfetter_sophistication_level-t.x_unfetter_sophistication_level:-1:t.x_unfetter_sophistication_level||0===t.x_unfetter_sophistication_level?1:0}},t}(n("bgrY").a),ye=function(){function e(){this.blGroups=[],this.blAttackPatterns=[],this.allWeightings=500,this.numericRisk=0,this.weakness="",this.topNRisks=3,this.barColors=[{backgroundColor:he.a.MAT_COLORS.lightblue[800]},{backgroundColor:he.a.MAT_COLORS.lightblue[100]}],this.riskSub=new v.a(null),this.selectedRisk=.5}return Object.defineProperty(e.prototype,"numericRisk",{get:function(){return this.numericRiskValue},set:function(e){this.numericRiskValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weakness",{get:function(){return this.weaknessValue},set:function(e){this.weaknessValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRisks",{get:function(){return this.topRisksValue},set:function(e){this.topRisksValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaryAggregation",{get:function(){return this.summaryAggregationValue},set:function(e){this.summaryAggregationValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barColors",{get:function(){return this.barColorsValue},set:function(e){this.barColorsValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedRisk",{get:function(){return this.selectedRiskValue},set:function(e){this.selectedRiskValue=e,this.recalculateDependents(),this.riskSub.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselinesGroupingTotal",{get:function(){return this.baselinesGroupingTotalValue},set:function(e){this.baselinesGroupingTotalValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselinesGroupingFiltered",{get:function(){return this.baselinesGroupingFilteredValue},set:function(e){this.baselinesGroupingFilteredValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"techniqueBreakdown",{get:function(){return this.techniqueBreakdownValue},set:function(e){this.techniqueBreakdownValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thresholdOptions",{get:function(){return this.thresholdOptionsValue},set:function(e){this.thresholdOptionsValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){return this.baselineValue},set:function(e){this.baselineValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineGroups",{get:function(){return this.blGroups},set:function(e){this.blGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineAttackPatterns",{get:function(){return this.blAttackPatterns},set:function(e){this.blAttackPatterns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineCompleteAPs",{get:function(){return this.blCompleteAPs},set:function(e){this.blCompleteAPs=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselinePercentComplete",{get:function(){return this.blPercentComplete},set:function(e){this.blPercentComplete=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineWeightings",{get:function(){return this.blWeightings},set:function(e){this.blWeightings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalWeightings",{get:function(){return this.allWeightings},set:function(e){this.allWeightings=e},enumerable:!0,configurable:!0}),e.prototype.getSelectedRiskSub=function(){var e=this;return this.riskSub.subscribe(function(t){return e.riskSub.next(e.selectedRisk)})},e.prototype.getRiskText=function(){return Number(100*this.numericRisk).toFixed(0)},e.prototype.setAverageRiskPerAssessedObject=function(e){this.numericRisk=this.calculateAvgRiskPerAssessedObject(e)},e.prototype.calculateAvgRiskPerAssessedObject=function(e){var t=1;return e&&(e.forEach(function(e){}),e.length>0&&(t=e.length)),0/t},e.prototype.calculateAvgRiskPerPhase=function(e){var t=0;return e&&e.assessedObjects&&e.assessedObjects.length>0&&(t=this.calculateAvgRiskPerAssessedObject(e.assessedObjects)),t},e.prototype.calculateWeakness=function(e){var t="";if(e&&e.phases&&e.phases.length>0){for(var n=e.phases,l=0,i=n;l<i.length;l++){var a=i[l];a.avgRisk=this.calculateAvgRiskPerPhase(a)}var r=n.sort(ve.sortByAvgRiskDesc())[0]._id||"",s=e.attackPatternsByKillChain.find(function(e){return e._id===r});if(s&&s.attackPatterns&&s.attackPatterns.length>0){var o=s.attackPatterns.sort(ve.sortBySophisticationAsc())[0].description||"";o&&o.length>0&&(t=o)}}this.weakness=t},e.prototype.calculateTopRisks=function(e){var t,n=this,l=this.retrieveAssessmentRisks(e);l.sort(ve.sortByRiskDesc()),(t=l.slice(0,this.topNRisks)).forEach(function(e){e.objects=(e.objects||[]).sort(ve.sortByRiskDesc()),e.objects=e.objects.slice(0,n.topNRisks)}),this.topRisks=t},e.prototype.retrieveAssessmentRisks=function(e){var t=[];return e&&(e.courseOfActions&&e.courseOfActions.length>0&&(t=t.concat(e.courseOfActions)),e.indicators&&e.indicators.length>0&&(t=t.concat(e.indicators)),e.sensors&&e.sensors.length>0&&(t=t.concat(e.sensors))),t},e.prototype.recalculateDependents=function(){this.repopulateAssessmentsGrouping(),this.repopulateTechniqueBreakdown()},e.prototype.repopulateAssessmentsGrouping=function(){this.populateAssessmentsGrouping(this.baselineObjects)},e.prototype.populateAssessmentsGrouping=function(e){this.baselineObjects=e;var t=this.filterOnRisk(e),n={},l={};if(this.summaryAggregation&&this.summaryAggregation.attackPatternsByAssessedObject){var i=function(e){return function(t){var n=null;if(t&&t.attackPatterns){var l=t.attackPatterns.reduce(function(e,t){return e.concat(t.kill_chain_phases)},[]).map(function(e){return e?e.phase_name.toLowerCase():""});Array.from(new Set(l)),l.forEach(function(t){return e[t]=e[t]?e[t]+1:1}),n=t}return n}};this.summaryAggregation.attackPatternsByAssessedObject.map(i(n)).filter(function(e){return e&&e._id?t.includes(e._id):null}).map(i(l))}this.baselinesGroupingTotal=n,this.baselinesGroupingFiltered=l},e.prototype.repopulateTechniqueBreakdown=function(){this.populateTechniqueBreakdown(this.baselineObjects)},e.prototype.populateTechniqueBreakdown=function(e){if(this.techniqueBreakdown={},e&&this.summaryAggregation&&this.summaryAggregation.attackPatternsByAssessedObject&&this.summaryAggregation.assessedAttackPatternCountBySophisicationLevel){this.baselineObjects=e;var t=this.summaryAggregation.assessedAttackPatternCountBySophisicationLevel,n=this.filterOnRisk(e),l=new Set;this.summaryAggregation.attackPatternsByAssessedObject.filter(function(e){return n.includes(e._id)}).forEach(function(e){e.attackPatterns.forEach(function(e){l.add(JSON.stringify(e))})});var i={};for(var a in l.forEach(function(e){var t=JSON.parse(e);void 0===i[t.x_unfetter_sophistication_level]&&(i[t.x_unfetter_sophistication_level]=0),++i[t.x_unfetter_sophistication_level]}),Object.keys(t))this.techniqueBreakdown[a]=void 0===i[a]?0:i[a]/t[a]}},e.prototype.filterOnRisk=function(e){var t=[];return e&&(t=e.map(function(e){return e.stix.id})),t},e.prototype.sophisticationNumberToWord=function(e){var t=parseInt(e,10);return this.sophisticationValueToWord(t)},e.prototype.sophisticationValueToWord=function(e){var t="";switch(e){case 0:t="Novice";break;case 1:t="Practitioner";break;case 2:t="Expert";break;case 3:t="Innovator";break;default:t=e?e.toString():"Unknown"}return t},e.prototype.calculateThresholdOptionNames=function(e){return this.thresholdOptions=[{name:"Mitigation Threshold",risk:0},{name:"Mitigation Threshold",risk:.25},{name:"Mitigation Threshold",risk:.5},{name:"Mitigation Threshold",risk:.75},{name:"Mitigation Threshold",risk:1}],this.thresholdOptions[0]},e.prototype.isSummaryAggregationValid=function(){var e=!1;return this.summaryAggregation&&this.summaryAggregation.assessedAttackPatternCountBySophisicationLevel&&this.summaryAggregation.totalAttackPatternCountBySophisicationLevel&&(e=!0),e},e.prototype.convertLabel=function(e){var t="";return e&&(t=this.convertLabels([e])[0]),t},e.prototype.convertLabels=function(e){var t=this,n=[];return e&&(n=e.map(function(e){e||(e="");var n=e=e.replace(/-/g," ");return(e=e.replace(/\b([a-z])(\w+)/g,t.capitalizeWithExceptions))===n&&(e=e.replace(/\b([a-z])/g,t.capitalizeSingleLetter)),e})),n},e.prototype.capitalizeSingleLetter=function(e){var t="";return e&&(t=e.length>1?e:e.toUpperCase()),t},e.prototype.capitalizeWithExceptions=function(e,t,n){var l=e;return e&&"and"!==(l=e.toLowerCase())&&"or"!==l&&"the"!==l&&"of"!==l&&"on"!==l&&"but"!==l&&t&&(l=t.toUpperCase(),n&&(l+=n.toLowerCase())),l},e.prototype.renderLegend=function(){var e=this,t="Mitigation Threshold";if(this.thresholdOptions){var n=this.thresholdOptions.find(function(t){return t.risk===e.selectedRisk});n&&n.name&&(t=n.name)}return"At or Above '"+t+"'"},e.ngInjectableDef=l.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Oe=n("nZsJ"),_e=function(){function e(e,t){this.calculationService=e,this.wizardStore=t}return e.prototype.ngOnInit=function(){this.summaryLink="/baseline/result//summary/"+this.baselineId,this.percentCompleted=this.calculationService.blPercentComplete,this.percentCompleted<100&&(this.infoBarMsg=this.percentCompleted.toFixed(2)+"% of your baseline is complete.",this.editUrl="/baseline/wizard/edit/"+this.baselineId)},e.prototype.publishBaseline=function(){this.currentBaseline.metaProperties.published=!0,this.wizardStore.dispatch(new u.U(this.currentBaseline))},e}(),je=l["\u0275crt"]({encapsulation:0,styles:[[".flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%]   .flex-grow[_ngcontent-%COMP%]{flex:1 1 auto}.flex-cols[_ngcontent-%COMP%]{flex-direction:column}.noUnderline[_ngcontent-%COMP%]{text-decoration:none}#tabWrapper[_ngcontent-%COMP%]{background-color:#e2f1f8;height:128px}#publishButton[_ngcontent-%COMP%]{background-color:#78909c;color:#fff;font-weight:400;margin-right:25px;margin-bottom:7px}.publishText[_ngcontent-%COMP%]{font-weight:400;margin-right:25px;margin-bottom:7px}.indent[_ngcontent-%COMP%]{margin-left:56px}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.banner-wrapper[_ngcontent-%COMP%]{background-color:#cfd8dc;color:rgba(0,0,0,.87)}"]],data:{}});function Ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","flex flexRow"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"uf-info-bar",[["isWarningMsg","true"]],null,null,null,de.b,de.a)),l["\u0275did"](3,114688,null,0,pe.a,[E.l],{completeActionUrl:[0,"completeActionUrl"],isWarningMsg:[1,"isWarningMsg"],message:[2,"message"]},null)],function(e,t){var n=t.component;e(t,3,0,n.editUrl||"","true",l["\u0275inlineInterpolate"](1,"",n.infoBarMsg,""))},null)}function Ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","publishText"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" Published \u2022 "," "])),l["\u0275ppd"](2,2)],null,function(e,t){var n=t.component;e(t,1,0,l["\u0275unv"](t,1,0,e(t,2,0,l["\u0275nov"](t.parent,0),n.published,"medium")))})}function Se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["id","publishWrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"button",[["id","publishButton"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.publishBaseline()&&l),l},S.d,S.b)),l["\u0275did"](2,180224,null,0,i.b,[l.ElementRef,w.a,k.h,[2,x.a]],null,null),(e()(),l["\u0275ted"](-1,0,["PUBLISH"]))],null,function(e,t){e(t,1,0,l["\u0275nov"](t,2).disabled||null,"NoopAnimations"===l["\u0275nov"](t,2)._animationMode)})}function we(e){return l["\u0275vid"](0,[l["\u0275pid"](0,R.e,[l.LOCALE_ID]),(e()(),l["\u0275eld"](1,0,null,null,18,"div",[["class","flex flexColumn"],["id","tabWrapper"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ce)),l["\u0275did"](3,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,0,"div",[["class","flex1"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,14,"div",[["class","flex flexRow"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,9,"nav",[["class","indent uf-tabs-borderless mat-tab-nav-bar"],["mat-tab-nav-bar",""]],null,null,null,be.e,be.c)),l["\u0275did"](7,3325952,null,1,fe.i,[l.ElementRef,[2,W.b],l.NgZone,l.ChangeDetectorRef,me.e],null,null),l["\u0275qud"](603979776,1,{_tabLinks:1}),(e()(),l["\u0275eld"](9,0,null,0,6,"a",[["class","noUnderline mat-tab-link"],["mat-tab-link",""],["routerLinkActive",""]],[[1,"target",0],[8,"href",4],[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==l["\u0275nov"](e,14)._handleClick(n)&&i),i},null,null)),l["\u0275did"](10,671744,[[3,4]],0,E.o,[E.l,E.a,R.k],{routerLink:[0,"routerLink"]},null),l["\u0275did"](11,1720320,[["summary",4]],2,E.n,[E.l,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),l["\u0275qud"](603979776,2,{links:1}),l["\u0275qud"](603979776,3,{linksWithHrefs:1}),l["\u0275did"](14,147456,[[1,4]],0,fe.h,[fe.i,l.ElementRef,l.NgZone,w.a,[2,q.m],[8,null],k.h],{active:[0,"active"]},null),(e()(),l["\u0275ted"](-1,null,["SUMMARY"])),(e()(),l["\u0275eld"](16,0,null,null,0,"div",[["class","flex1"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](18,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["notPublished",2]],null,0,null,Se))],function(e,t){var n=t.component;e(t,3,0,n.percentCompleted<100),e(t,10,0,n.summaryLink),e(t,11,0,""),e(t,14,0,l["\u0275nov"](t,11).isActive),e(t,18,0,n.published,l["\u0275nov"](t,19))},function(e,t){e(t,9,0,l["\u0275nov"](t,10).target,l["\u0275nov"](t,10).href,l["\u0275nov"](t,14).active,l["\u0275nov"](t,14).disabled.toString(),l["\u0275nov"](t,14).tabIndex,l["\u0275nov"](t,14).disabled,l["\u0275nov"](t,14).active)})}var ke=n("7M3A"),xe=n("FJDs"),Pe=n("dzgT"),Re=n("FelZ"),Ee=function(){function e(e,t){this.appStore=e,this.changeDetectorRef=t,this.capabilities=[],this.selectedAttackPatternIds=[],this.attackPatterns=[],this.heatmapOptions={view:{component:"#baseline-heat-map"},color:{batchColors:[{header:{bg:"transparent",fg:"#333"},body:{bg:"transparent",fg:"black"}}],heatColors:{true:{bg:"#b2ebf2",fg:"black"},false:{bg:"#ccc",fg:"black"},selected:{bg:"#33a0b0",fg:"black"}}},text:{cells:{showText:!0}},zoom:{cellTitleExtent:2}},this.treemapOptions={minColor:"#c8e0ec",midColor:"#a8c0cc",maxColor:"#88a0ac"},this.carouselOptions={}}return e.prototype.ngOnInit=function(){var e=this,t=Object(Pe.a)(this.appStore.select(Re.e),this.appStore.select(Re.a)).pipe(Object(h.a)(function(e){var t=e[0],n=e[1];return n&&n.length>0&&void 0!==t&&Object.keys(t).length>0}),Object(g.a)(function(t){var n=t[0],l=e.attackPatternIdsToTactics(e.selectedAttackPatternIds,t[1]);return l=e.deriveAttackPatternFramework(l,n),e.enhanceWithHeatMapOptions(l)})).subscribe(function(t){e.attackPatterns=t,e.changeDetectorRef.markForCheck()},function(e){return console.log(e)},function(){t&&t.unsubscribe()})},e.prototype.attackPatternIdsToTactics=function(e,t){var n=new Set(e);return t.filter(function(e){return n.has(e.id)})},e.prototype.deriveAttackPatternFramework=function(e,t){var n=Object.keys(t).filter(function(n){return t[n].phases.find(function(t){var n=t.id;return void 0!==e.find(function(e){return void 0!==e.phases.find(function(e){return e===n})})})}),l=t[n[0]].id;return e.map(function(e){return e.framework=l,e})},e.prototype.enhanceWithHeatMapOptions=function(e){return e.map(function(e){return e.adds={highlights:[{value:2,color:{style:"selected",bg:"#33a0b0",fg:"white"}}]},e})},e}(),Te=l["\u0275crt"]({encapsulation:0,styles:[["#baseline-heat-map[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]    {background-color:#fff}[_nghost-%COMP%]     .mat-card{margin:4px 20px 15px}[_nghost-%COMP%]     .mat-card-header-text{width:100%}[_nghost-%COMP%]     .mat-card-header-text .mat-card-title{display:flex;align-items:center}[_nghost-%COMP%]     tactics-pane .tactics-title{color:rgba(255,255,255,.87)}[_nghost-%COMP%]     tactics-carousel-control .carousel-button.disabled{color:rgba(0,0,0,.33)}[_nghost-%COMP%]     unf-heatmap div.heat-map{background:#fff}[_nghost-%COMP%]     unf-heatmap div.heat-map rect.selected{fill:#78909c}"]],data:{}});function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"tactics-pane",[],null,null,null,ke.b,ke.a)),l["\u0275did"](2,245760,[["tactics",4]],0,xe.a,[T.n],{targets:[0,"targets"],title:[1,"title"],subtitle:[2,"subtitle"],heatmapOptions:[3,"heatmapOptions"],treemapOptions:[4,"treemapOptions"],carouselOptions:[5,"carouselOptions"]},null)],function(e,t){var n=t.component;e(t,2,0,n.attackPatterns,"Addressed Techniques","These are the techniques addressed by the capabilities in this baseline.",n.heatmapOptions,n.treemapOptions,n.carouselOptions)},null)}function Ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","uf-well"],["id","baseline-heat-map"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](2,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.component.collapseContents)},null)}var Be=n("v9Dh"),Le=n("eDkP"),De=n("xdbM"),Ne=function(){function e(e){this.summaryCalculationService=e,this.overallRatingChartType=this.CHART_TYPE,this.CHART_TYPE="doughnut",this.DEFAULT_CHART_COLORS=[{}],this.CHART_LABELS=["Attack Patterns Unweighted","Attack Patterns Weighted"],this.CHART_BG_COLORS=[he.a.COLORS.red,he.a.COLORS.green],this.CHART_HOVER_BG_COLORS=[he.a.COLORS.darkRed,he.a.COLORS.darkGreen],this.CHART_OPTIONS={legend:{display:!0,position:"bottom"},responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(e,t){var n=t.datasets[e.datasetIndex].data,l=t.labels[e.index],i=n[e.index],a=0;return n.forEach(function(e){a+=e}),l+": "+Math.round(i/a*100)+"%"}}}}}return e.prototype.ngOnInit=function(){var e=this.summaryCalculationService.blCompleteAPs;this.overallRatingChartData=[{data:[1-e,e],backgroundColor:this.CHART_BG_COLORS,hoverBackgroundColor:this.CHART_HOVER_BG_COLORS}],this.overallRatingChartType=this.CHART_TYPE,this.activeMainWell="heatmap",this.collapseTechniques=!0},e.prototype.setMainWell=function(e){this.activeMainWell=this.activeMainWell===e?"none":e},e.prototype.calculateRisk=function(e){var t=0;return e&&(t=this.summaryCalculationService.calculateAvgRiskPerAssessedObject(e)),this.formatRisk(t)},e.prototype.formatRisk=function(e){var t="0.00";return e&&(t=Number(100*e).toFixed(2)),"Infinity"===t&&(t="100.00"),t},e}(),Ge=l["\u0275crt"]({encapsulation:0,styles:[["#report[_ngcontent-%COMP%]{margin-left:27px;margin-right:27px}.matchHeight[_ngcontent-%COMP%]{align-items:stretch;box-align:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch}#baselineCard[_ngcontent-%COMP%]{min-width:916px}.external-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:300;padding-top:33px;padding-bottom:15px}.triple-card-width[_ngcontent-%COMP%]{width:100%;min-width:916px}#chart-container[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]{min-height:357px;margin-bottom:20px;font-weight:lighter;padding:19px 18px 6px 23px}.card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:600;margin-bottom:6px}.card-width[_ngcontent-%COMP%]{width:33%;min-width:292px}.left-card[_ngcontent-%COMP%]{flex-grow:.5;margin-right:10px}.right-card[_ngcontent-%COMP%]{flex-grow:.5;margin-left:10px}#stats[_ngcontent-%COMP%]{background-color:#78909c;color:rgba(255,255,255,.87);opacity:.87}#overall-rating[_ngcontent-%COMP%]{padding:29px 37px}#overall-rating-chart[_ngcontent-%COMP%]{height:357px}#ratings[_ngcontent-%COMP%]{color:#78909c}.card-row-description[_ngcontent-%COMP%]{font-size:15px}.card-row-data[_ngcontent-%COMP%]{font-size:50px;font-weight:300}.second-row[_ngcontent-%COMP%]{padding-top:25px}.third-row[_ngcontent-%COMP%]{padding-top:27px}"]],data:{}});function Fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","uf-mat-card card triple-card-width"],["id","chart-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"summary-tactics",[["collapseSubject","false"]],null,null,null,Ie,Te)),l["\u0275did"](2,114688,null,0,Ee,[T.n,l.ChangeDetectorRef],{selectedAttackPatternIds:[0,"selectedAttackPatternIds"]},null)],function(e,t){e(t,2,0,t.component.summaryCalculationService.blAttackPatterns)},null)}function qe(e){return l["\u0275vid"](0,[l["\u0275pid"](0,R.f,[l.LOCALE_ID]),(e()(),l["\u0275eld"](1,0,null,null,66,"div",[["id","report"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,65,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,8,"div",[["class","flex matchHeight"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,7,"div",[["class","triple-card-width external-card-title"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,16777216,null,null,6,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l["\u0275nov"](e,8).show()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,8)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l["\u0275nov"](e,8)._handleTouchend()&&i),"click"===t&&(i=!1!==a.setMainWell("heatmap")&&i),i},S.d,S.b)),l["\u0275did"](7,180224,null,0,i.b,[l.ElementRef,w.a,k.h,[2,x.a]],null,null),l["\u0275did"](8,147456,null,0,Be.d,[Le.c,l.ElementRef,me.c,l.ViewContainerRef,l.NgZone,w.a,k.c,k.h,Be.b,[2,W.b],[2,Be.a]],{message:[0,"message"]},null),(e()(),l["\u0275eld"](9,0,null,0,3,"i",[["class","material-icons mat-24"]],null,null,null,null,null)),l["\u0275did"](10,278528,null,0,R.m,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](11,{labelColor:0}),(e()(),l["\u0275ted"](-1,null,["view_comfy"])),(e()(),l["\u0275eld"](13,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,2,"div",[["class","flex matchHeight"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Fe)),l["\u0275did"](16,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](17,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,6,"div",[["class","flex matchHeight"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,1,"span",[["class","card-width external-card-title left-card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" What are your baseline stats?"])),(e()(),l["\u0275eld"](21,0,null,null,1,"span",[["class","card-width external-card-title left-card right-card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" What is your overall baseline weighting status?"])),(e()(),l["\u0275eld"](23,0,null,null,1,"span",[["class","card-width external-card-title right-card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" What are your baseline weightings?"])),(e()(),l["\u0275eld"](25,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](26,0,null,null,41,"div",[["class","flex matchHeight"]],null,null,null,null,null)),(e()(),l["\u0275eld"](27,0,null,null,15,"mat-card",[["class","uf-mat-card card card-width left-card mat-card"],["color","primary"],["id","stats"]],null,null,null,G.d,G.a)),l["\u0275did"](28,49152,null,0,a.a,[],null,null),(e()(),l["\u0275eld"](29,0,null,0,13,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l["\u0275did"](30,16384,null,0,a.d,[],null,null),(e()(),l["\u0275eld"](31,0,null,null,1,"div",[["class","card-row-description"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Groups "])),(e()(),l["\u0275eld"](33,0,null,null,1,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](34,null,[" "," "])),(e()(),l["\u0275eld"](35,0,null,null,1,"div",[["class","card-row-description second-row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Capabilities "])),(e()(),l["\u0275eld"](37,0,null,null,1,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](38,null,[" "," "])),(e()(),l["\u0275eld"](39,0,null,null,1,"div",[["class","card-row-description third-row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Attack Patterns "])),(e()(),l["\u0275eld"](41,0,null,null,1,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](42,null,[" "," of "," "])),(e()(),l["\u0275eld"](43,0,null,null,5,"mat-card",[["class","uf-mat-card card card-width left-card right-card mat-card"],["color","primary"],["id","overall-rating"]],null,null,null,G.d,G.a)),l["\u0275did"](44,49152,null,0,a.a,[],null,null),(e()(),l["\u0275eld"](45,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l["\u0275did"](46,16384,null,0,a.d,[],null,null),(e()(),l["\u0275eld"](47,0,null,null,1,"canvas",[["baseChart",""],["id","overall-rating-chart"]],null,null,null,null,null)),l["\u0275did"](48,737280,null,0,De.BaseChartDirective,[l.ElementRef],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"]},null),(e()(),l["\u0275eld"](49,0,null,null,18,"mat-card",[["class","uf-mat-card card card-width right-card mat-card"],["color","primary"],["id","ratings"]],null,null,null,G.d,G.a)),l["\u0275did"](50,49152,null,0,a.a,[],null,null),(e()(),l["\u0275eld"](51,0,null,0,16,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l["\u0275did"](52,16384,null,0,a.d,[],null,null),(e()(),l["\u0275eld"](53,0,null,null,1,"div",[["class","card-row-description"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Protect "])),(e()(),l["\u0275eld"](55,0,null,null,2,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](56,null,[" "," "])),l["\u0275ppd"](57,2),(e()(),l["\u0275eld"](58,0,null,null,1,"div",[["class","card-row-description second-row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Detect "])),(e()(),l["\u0275eld"](60,0,null,null,2,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](61,null,[" "," "])),l["\u0275ppd"](62,2),(e()(),l["\u0275eld"](63,0,null,null,1,"div",[["class","card-row-description third-row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Respond "])),(e()(),l["\u0275eld"](65,0,null,null,2,"div",[["class","card-row-data"]],null,null,null,null,null)),(e()(),l["\u0275ted"](66,null,[" "," "])),l["\u0275ppd"](67,2)],function(e,t){var n=t.component;e(t,8,0,l["\u0275inlineInterpolate"](1,"","heatmap"===n.activeMainWell?"Hide":"Show"," Heat Map")),e(t,10,0,"material-icons mat-24",e(t,11,0,"heatmap"!==n.activeMainWell)),e(t,16,0,"heatmap"===n.activeMainWell),e(t,48,0,n.overallRatingChartData,n.CHART_LABELS,n.CHART_OPTIONS,n.CHART_TYPE,n.DEFAULT_CHART_COLORS)},function(e,t){var n=t.component;e(t,6,0,l["\u0275nov"](t,7).disabled||null,"NoopAnimations"===l["\u0275nov"](t,7)._animationMode),e(t,34,0,n.summaryCalculationService.blGroups.length),e(t,38,0,n.summaryCalculationService.baseline.assessments.length),e(t,42,0,n.summaryCalculationService.blAttackPatterns.length,n.summaryCalculationService.totalWeightings),e(t,56,0,l["\u0275unv"](t,56,0,e(t,57,0,l["\u0275nov"](t,0),n.summaryCalculationService.baselineWeightings.protPct,"1.2-2"))),e(t,61,0,l["\u0275unv"](t,61,0,e(t,62,0,l["\u0275nov"](t,0),n.summaryCalculationService.baselineWeightings.detPct,"1.2-2"))),e(t,66,0,l["\u0275unv"](t,66,0,e(t,67,0,l["\u0275nov"](t,0),n.summaryCalculationService.baselineWeightings.respPct,"1.2-2")))})}var We=n("CRUc"),Ue=n("hioa"),Ve=n("DmxA"),ze=n("93dM"),He=n("k2Co"),Ye=n("F/XL"),Je=n("t9fZ"),Ze=n("2WpN"),$e=n("RxPr"),Qe=n("tVj7"),Ke=n("bdC7"),Xe="[Baseline Summary] LOAD_BASELINE_DATA",et="[Baseline Summary] SET_BASELINES",tt="[Baseline Summary] SET_BASELINE",nt="[Baseline Summary] SET_ATTACK_PATTERNS",lt="[Baseline Summary] SET_BASELINE_WEIGHTINGS",it="[Baseline Summary] SET_AND_READ_CAPABILITIES",at="[Baseline Summary] SET_BASELINE_GROUPS",rt="[Baseline Summary] FINISHED_LOADING",st="[Baseline Summary] SET_SUMMARY_AGGREGATION_DATA",ot="[Baseline Summary] FINISHED_LOADING_SUMMARY_AGGREGATION_DATA",ut="[Baseline Result Group] CLEAN_BASELINE_RESULT_DATA",ct=function(){return function(e){this.payload=e,this.type=Xe}}(),dt=function(){return function(e){this.payload=e,this.type=et}}(),pt=function(){return function(e){this.payload=e,this.type=tt}}(),bt=function(){return function(e){this.payload=e,this.type=nt}}(),ft=function(){return function(e){this.payload=e,this.type=lt}}(),mt=function(){return function(e){this.payload=e,this.type=it}}(),ht=function(){return function(e){this.payload=e,this.type=at}}(),gt=function(){return function(e){this.payload=e,this.type=rt}}(),vt=function(){return function(){this.type=ut}}(),yt=n("YlbQ"),Ot=n("p0ib"),_t=n("15JJ"),jt=n("AytR"),Ct=function(e){function t(t,n){var l=e.call(this)||this;return l.baselineService=t,l.creatorId=n,l.demoMode="DEMO"===jt.a.runMode,l.filterChange=new v.a(""),l.dataChange=new v.a(void 0),l}return Object(ge.__extends)(t,e),t.prototype.connect=function(e){var t=this;return Ot.a.apply(void 0,[this.filterChange,this.dataChange]).pipe(Object(_t.a)(function(){var e=t.filterChange.getValue().trim().toLowerCase()||"",n=t.baselineService.getLatestAssessments();return e&&0!==e.length?n.pipe(Object(g.a)(function(t){return t.filter(function(t){return t.name.trim().toLowerCase().includes(e)})})):n}))},t.prototype.disconnect=function(e){console.log("disconnect from datasource")},t.prototype.nextFilter=function(e){e=(e=e||"").trim(),this.filterChange.next(e)},t.prototype.nextDataChange=function(e){this.dataChange.next(void 0)},t}(yt.a),At=n("k+c2"),St=(Object(T.B)("stix"),Object(T.D)(At.b,Re.e,function(e,t){var n=0;return t[e].phases.map(function(e){return n+=e.tactics.length}),n})),wt=function(){function e(e,t,n,l,i,a,r,s){var o=this;this.route=e,this.router=t,this.dialog=n,this.store=l,this.userStore=i,this.baselineService=a,this.usersService=r,this.calculationService=s,this.baseAssessUrl="/baseline",this.finishedLoading=!1,this.masterListOptions={dataSource:null,columns:new le.b("modified","Date Modified").addColumn("id","# of Capabilities","master-list-capabilities",!1,function(e){return e&&o.baselines?o.baselines.filter(function(t){return t.id===e})[0].assessments.length.toString():"0"}).addColumn("created_by_ref","Organization","master-list-organization",!1,function(e){var t=null;return e&&(t=o.identities.find(function(t){return t.id===e})),t?t.name:"Unknown"}).addColumn("published","Status","master-list-extra",!1,function(e){return e?"Published":"Not Published"}),displayRoute:this.baseAssessUrl+"/result/summary",modifyRoute:this.baseAssessUrl+"/wizard/edit",createRoute:this.baseAssessUrl+"/create"},this.subscriptions=[]}return e.prototype.getDialog=function(){return this.dialog},e.prototype.ngOnInit=function(){var e=this,t=this.userStore.select(St).pipe(Object(m.a)()).subscribe(function(t){return e.attackPatternCount=t}),n=this.route.params.pipe(Object(m.a)()).subscribe(function(t){e.baselineId=t.baselineId||"",e.baselines=void 0,e.finishedLoading=!1,e.calculationService.baseline=void 0,e.store.dispatch(new vt);var n=e.userStore.select("users").pipe(Object(f.a)("userProfile"),Object(Je.a)(1)).subscribe(function(t){e.requestBaseline(e.baselineId,t.organizations[0].id)},function(e){return console.log(e)});e.subscriptions.push(n)},function(e){return console.log(e)}),l=this.userStore.select("stix").pipe(Object(f.a)("identities"),Object(Ze.a)(function(){return l&&l.unsubscribe()})).subscribe(function(t){return e.identities=t},function(e){return console.log("("+(new Date).toISOString()+") error retrieving identities from app store",e)});this.getBaseline(),this.listenForDataChanges(),this.subscriptions.push(t,n),this.dates=["Yesterday, 09:36:40 AM","Monday, 03:11:15 PM","Mar 15, 2018 01:14:55 PM"]},e.prototype.requestBaseline=function(e,t){var n=this,l=function(e){return e&&e.id===n.baselineId};this.masterListOptions.dataSource=new Ct(this.baselineService,t),this.masterListOptions.columns.id.classes=function(e){return l(e)?"current-item":"cursor-pointer"},this.masterListOptions.columns.id.selectable=function(e){return!l(e)},this.store.dispatch(new ct(e))},e.prototype.getBaseline=function(){var e=this,t=this.store.select("baselineSummary").pipe(Object(f.a)("baselines"),Object(m.a)(),Object(h.a)(function(e){return e&&e.length>0})).subscribe(function(t){return e.baselines=t.slice()},function(e){return console.log(e)}),n=this.store.select("baselineSummary").pipe(Object(f.a)("baseline"),Object(m.a)()).subscribe(function(t){return e.currentBaseline=t},function(e){return console.log(e)}),l=this.store.select("baselineSummary").pipe(Object(f.a)("blAttackPatterns"),Object(m.a)(),Object(h.a)(function(e){return e&&e.length>=0})).subscribe(function(t){return e.blAttackPatterns=t},function(e){return console.log(e)}),i=this.store.select("baselineSummary").pipe(Object(f.a)("blCompleteAPs"),Object(m.a)()).subscribe(function(t){return e.blCompleteAPs=t},function(e){return console.log(e)}),a=this.store.select("baselineSummary").pipe(Object(f.a)("blCompleteWeightings"),Object(m.a)()).subscribe(function(t){return e.blCompleteWeightings=t},function(e){return console.log(e)}),r=this.store.select("baselineSummary").pipe(Object(f.a)("blGroups"),Object(m.a)(),Object(h.a)(function(e){return e&&e.length>=0})).subscribe(function(t){return e.blGroups=t},function(e){return console.log(e)}),s=this.store.select("baselineSummary").pipe(Object(f.a)("blWeightings"),Object(m.a)()).subscribe(function(t){return e.blWeightings=t},function(e){return console.log(e)});this.subscriptions.push(t,n,l,i,a,r,s)},e.prototype.listenForDataChanges=function(){var e=this,t=this.store.select("baselineSummary").pipe(Object(f.a)("summaries"),Object(m.a)(),Object(h.a)(function(e){return e&&e.length>0})).subscribe(function(t){e.baselines=t.slice()},function(e){return console.log(e)}),n=this.store.select("baselineSummary").pipe(Object(f.a)("finishedLoading"),Object(m.a)(),Object(h.a)(function(e){return!0===e})).subscribe(function(t){void 0!==e.blGroups?(e.finishedLoading=t,e.transformSummary()):e.setLoadingToDone()},function(e){return console.log(e)}),l=this.store.select("baselineSummary").pipe(Object(f.a)("baseline"),Object(m.a)()).subscribe(function(t){t&&(e.currentBaseline=t,e.baselineName=Object(Ye.a)(e.currentBaseline.name))},function(e){return console.log(e)});this.subscriptions.push(t,n,l)},e.prototype.ngOnDestroy=function(){this.subscriptions.filter(function(e){return void 0!==e}).forEach(function(e){return e.unsubscribe()}),this.store.dispatch(new vt)},e.prototype.onCreate=function(e){return this.router.navigateByUrl(this.masterListOptions.createRoute)},e.prototype.onEdit=function(e){var t;return(t=!e||e instanceof UIEvent?this.router.navigate([this.masterListOptions.modifyRoute,this.baselineId]):this.router.navigate([this.masterListOptions.modifyRoute,e.id])).catch(function(e){return console.log(e)}),t},e.prototype.onShare=function(e){return console.log("noop"),Promise.resolve(!1)},e.prototype.onDeleteCurrent=function(){this.confirmDelete({name:this.currentBaseline.name,id:this.baselineId})},e.prototype.onDelete=function(e){this.confirmDelete({name:e.name,id:e.id})},e.prototype.confirmDelete=function(e){var t=this;if(e&&e.id)var n=this.dialog.open($e.a,{data:{attributes:e}}).afterClosed().subscribe(function(n){if(!(!n||"boolean"==typeof n&&!0!==n||"string"==typeof n&&"true"!==n))var l=e.id===t.baselineId,i=t.baselineService.delete(e).subscribe(function(e){return t.masterListOptions.dataSource.nextDataChange(e)},function(e){return console.log(e)},function(){if(i&&i.unsubscribe(),l)return t.router.navigate([he.a.X_UNFETTER_BASELINE_NAVIGATE_URL])})},function(e){return console.log(e)},function(){return n.unsubscribe()});else console.log("confirm delete requires an id")},e.prototype.onCellSelected=function(e){if(e&&e.id)return this.store.dispatch(new vt),this.router.navigate([this.masterListOptions.displayRoute,e.id])},e.prototype.onFilterTabChanged=function(e){return console.log("noop"),Promise.resolve(!1)},e.prototype.trackByFn=function(e,t){var n=e;return t&&(t.id||0===t.id)&&(n=t.id||e),n},e.prototype.setLoadingToDone=function(){this.finishedLoading=!0},e.prototype.transformSummary=function(){this.calculationService.baseline=this.currentBaseline,this.calculationService.blAttackPatterns=this.blAttackPatterns,this.calculationService.blCompleteAPs=this.blCompleteAPs/(this.currentBaseline.assessments.length*this.attackPatternCount),this.calculationService.blPercentComplete=this.blCompleteWeightings/(3*this.currentBaseline.assessments.length*this.attackPatternCount)/100*100*100,this.calculationService.totalWeightings=this.attackPatternCount,this.calculationService.blGroups=this.blGroups,this.calculationService.blWeightings=this.blWeightings},e}(),kt=l["\u0275crt"]({encapsulation:0,styles:[[".side-panel[_ngcontent-%COMP%]{width:320px;background-color:#fff}.side-panel[_ngcontent-%COMP%]   markings-chips[_ngcontent-%COMP%]     div.flex{margin-bottom:4px}.side-panel[_ngcontent-%COMP%]   markings-chips[_ngcontent-%COMP%]     div.flex mat-chip-list{margin:0 auto}.side-panel[_ngcontent-%COMP%]   markings-chips[_ngcontent-%COMP%]     div.flex mat-chip{margin:0 auto 4px}.side-panel[_ngcontent-%COMP%]   markings-chips[_ngcontent-%COMP%]     div.flex mat-chip:first-of-type{margin-top:-8px}.main-panel[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);background-color:#f1f1f1}  #sideDateList .side-list-item{font-size:14px;font-weight:lighter;color:#78909c}  #sideDateList .mat-list-item{height:32px}  #sideDateList .mat-expansion-panel-header-title{font-size:16px}  #sideDateList .mat-expansion-panel-header{padding-left:0}  #sideDateList .mat-expansion-panel-content.mat-expanded{margin-top:-23px}  .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-item,   .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-item-header{flex:3!important}  .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-capabilities,   .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-capabilities-header{flex:1;align-items:center;text-align:center}  .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-organization,   .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .mat-column-created_by_ref{flex:2;align-items:center}  .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-extra,   .uf-master-list-dialog .mat-dialog-container mat-dialog-content div.master-list-table .master-list-extra-header{flex:1;align-items:center}  .uf-master-list-dialog .mat-dialog-container mat-dialog-actions{justify-content:flex-end;padding:6px 6px 6px 0}"]],data:{animation:[{type:7,name:"slideInOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-400%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0)",position:"relative"},offset:null},timings:".5s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-400%)"},offset:null},timings:".5s ease-in-out"}],options:null}],options:{}}]}});function xt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,49,"mat-sidenav-container",[["class","mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Q.d,Q.b)),l["\u0275did"](1,1490944,null,2,K.f,[[2,W.b],l.ElementRef,l.NgZone,l.ChangeDetectorRef,K.a,[2,x.a]],null,null),l["\u0275qud"](603979776,1,{_drawers:1}),l["\u0275qud"](335544320,2,{_content:0}),(e()(),l["\u0275eld"](4,0,null,0,38,"mat-sidenav",[["class","side-panel mat-drawer mat-sidenav"],["mode","side"],["opened","true"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[["component","@transform.start"],["component","@transform.done"]],function(e,t,n){var i=!0;return"component:@transform.start"===t&&(i=!1!==l["\u0275nov"](e,5)._onAnimationStart(n)&&i),"component:@transform.done"===t&&(i=!1!==l["\u0275nov"](e,5)._onAnimationEnd(n)&&i),i},Q.f,Q.a)),l["\u0275did"](5,3325952,[[1,4]],0,K.e,[l.ElementRef,k.i,k.h,w.a,l.NgZone,[2,R.d]],{mode:[0,"mode"],opened:[1,"opened"]},null),(e()(),l["\u0275eld"](6,0,null,0,36,"unfetter-side-panel",[["class","side-panel"],["collapsible","false"],["width","320"]],null,null,null,X.b,X.a)),l["\u0275did"](7,114688,null,0,ee.a,[],{width:[0,"width"],item:[1,"item"]},null),l["\u0275pid"](131072,R.b,[l.ChangeDetectorRef]),l["\u0275ppd"](9,1),l["\u0275pod"](10,{name:0}),(e()(),l["\u0275eld"](11,0,null,1,1,"sidepanel-option-item",[["icon","mode_edit"],["label","Edit"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onEdit(n)&&l),l},te.b,te.a)),l["\u0275did"](12,114688,null,0,ne.a,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l["\u0275eld"](13,0,null,1,1,"sidepanel-option-item",[["disabled","true"],["icon","share"],["label","Share"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onShare(n)&&l),l},te.b,te.a)),l["\u0275did"](14,114688,null,0,ne.a,[],{label:[0,"label"],icon:[1,"icon"],disabled:[2,"disabled"]},null),(e()(),l["\u0275eld"](15,0,null,1,1,"sidepanel-option-item",[["icon","delete"],["label","Delete"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDeleteCurrent(n)&&l),l},te.b,te.a)),l["\u0275did"](16,114688,null,0,ne.a,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l["\u0275eld"](17,0,null,2,1,"master-list-dialog-trigger",[["height","400px"],["title","Baselines"],["width","1200px"]],null,[[null,"tabChange"],[null,"create"],[null,"select"],[null,"edit"],[null,"delete"]],function(e,t,n){var l=!0,i=e.component;return"tabChange"===t&&(l=!1!==i.onFilterTabChanged(n)&&l),"create"===t&&(l=!1!==i.onCreate(n)&&l),"select"===t&&(l=!1!==i.onCellSelected(n)&&l),"edit"===t&&(l=!1!==i.onEdit(n)&&l),"delete"===t&&(l=!1!==i.onDelete(n)&&l),l},A.c,A.b)),l["\u0275did"](18,180224,null,0,le.c,[ie.e],{title:[0,"title"],width:[1,"width"],height:[2,"height"],dataSource:[3,"dataSource"],columns:[4,"columns"]},{tabChange:"tabChange",create:"create",select:"select",edit:"edit",delete:"delete"}),(e()(),l["\u0275eld"](19,0,null,3,1,"markings-chips",[],null,null,null,ae.b,ae.a)),l["\u0275did"](20,638976,null,0,re.a,[T.n,l.ChangeDetectorRef],{model:[0,"model"]},null),(e()(),l["\u0275eld"](21,0,null,4,10,"sidepanel-list-item",[["expanded","true"],["hideToggle","true"],["id","sideDateList"],["label","Date Last Modified"],["showCount","false"]],null,null,null,se.b,se.a)),l["\u0275did"](22,114688,null,0,oe.a,[],{label:[0,"label"],items:[1,"items"],showCount:[2,"showCount"],expanded:[3,"expanded"],hideToggle:[4,"hideToggle"]},null),(e()(),l["\u0275eld"](23,0,null,0,8,"mat-list-item",[["class","list-divider mat-list-item"]],[[24,"@slideInOutAnimation",0],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l["\u0275nov"](e,24)._handleFocus()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,24)._handleBlur()&&i),i},ue.e,ue.b)),l["\u0275did"](24,1097728,null,3,ce.c,[l.ElementRef,[2,ce.f]],null,null),l["\u0275qud"](603979776,3,{_lines:1}),l["\u0275qud"](335544320,4,{_avatar:0}),l["\u0275qud"](335544320,5,{_icon:0}),(e()(),l["\u0275eld"](28,0,null,1,3,"h4",[["class","side-list-item mat-line"],["mat-line",""]],null,null,null,null,null)),l["\u0275did"](29,16384,[[3,4]],0,q.o,[],null,null),(e()(),l["\u0275ted"](30,null,[" "," "])),l["\u0275ppd"](31,2),(e()(),l["\u0275eld"](32,0,null,4,10,"sidepanel-list-item",[["expanded","true"],["hideToggle","true"],["id","sideDateList"],["label","Date Created"],["showCount","false"]],null,null,null,se.b,se.a)),l["\u0275did"](33,114688,null,0,oe.a,[],{label:[0,"label"],items:[1,"items"],showCount:[2,"showCount"],expanded:[3,"expanded"],hideToggle:[4,"hideToggle"]},null),(e()(),l["\u0275eld"](34,0,null,0,8,"mat-list-item",[["class","list-divider mat-list-item"]],[[24,"@slideInOutAnimation",0],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l["\u0275nov"](e,35)._handleFocus()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,35)._handleBlur()&&i),i},ue.e,ue.b)),l["\u0275did"](35,1097728,null,3,ce.c,[l.ElementRef,[2,ce.f]],null,null),l["\u0275qud"](603979776,6,{_lines:1}),l["\u0275qud"](335544320,7,{_avatar:0}),l["\u0275qud"](335544320,8,{_icon:0}),(e()(),l["\u0275eld"](39,0,null,1,3,"h4",[["class","side-list-item mat-line"],["mat-line",""]],null,null,null,null,null)),l["\u0275did"](40,16384,[[6,4]],0,q.o,[],null,null),(e()(),l["\u0275ted"](41,null,[" "," "])),l["\u0275ppd"](42,2),(e()(),l["\u0275eld"](43,0,null,1,6,"mat-sidenav-content",[["class","sidenavContentPolyfill320 mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Q.e,Q.c)),l["\u0275did"](44,1097728,[[2,4]],0,K.g,[l.ChangeDetectorRef,K.f],null,null),(e()(),l["\u0275eld"](45,0,null,0,4,"div",[["class","main-panel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](46,0,null,null,1,"result-header",[],null,null,null,we,je)),l["\u0275did"](47,114688,null,0,_e,[ye,T.n],{baselineId:[0,"baselineId"],published:[1,"published"],currentBaseline:[2,"currentBaseline"]},null),(e()(),l["\u0275eld"](48,0,null,null,1,"summary-report",[],null,null,null,qe,Ge)),l["\u0275did"](49,114688,null,0,Ne,[ye],null,null)],function(e,t){var n=t.component;e(t,1,0),e(t,5,0,"side","true"),e(t,7,0,"320",e(t,10,0,l["\u0275unv"](t,7,1,e(t,9,0,l["\u0275nov"](t.parent.parent,0),l["\u0275unv"](t,7,1,l["\u0275nov"](t,8).transform(n.baselineName)))))),e(t,12,0,"Edit","mode_edit"),e(t,14,0,"Share","share","true"),e(t,16,0,"Delete","delete"),e(t,18,0,"Baselines","1200px","400px",n.masterListOptions.dataSource,n.masterListOptions.columns),e(t,20,0,n.currentBaseline),e(t,22,0,"Date Last Modified",n.calculationService.baseline.modified,"false","true","true"),e(t,33,0,"Date Created",n.calculationService.baseline.created,"false","true","true"),e(t,47,0,n.calculationService.baseline.id,n.calculationService.baseline.metaProperties.published?n.calculationService.baseline.modified:void 0,n.calculationService.baseline),e(t,49,0)},function(e,t){var n=t.component;e(t,0,0,l["\u0275nov"](t,1)._backdropOverride),e(t,4,0,l["\u0275nov"](t,5)._animationState,null,"end"===l["\u0275nov"](t,5).position,"over"===l["\u0275nov"](t,5).mode,"push"===l["\u0275nov"](t,5).mode,"side"===l["\u0275nov"](t,5).mode,l["\u0275nov"](t,5).fixedInViewport,l["\u0275nov"](t,5).fixedInViewport?l["\u0275nov"](t,5).fixedTopGap:null,l["\u0275nov"](t,5).fixedInViewport?l["\u0275nov"](t,5).fixedBottomGap:null),e(t,23,0,void 0,l["\u0275nov"](t,24)._avatar||l["\u0275nov"](t,24)._icon,l["\u0275nov"](t,24)._avatar||l["\u0275nov"](t,24)._icon),e(t,30,0,l["\u0275unv"](t,30,0,e(t,31,0,l["\u0275nov"](t.parent.parent,1),n.calculationService.baseline.modified,"medium"))),e(t,34,0,void 0,l["\u0275nov"](t,35)._avatar||l["\u0275nov"](t,35)._icon,l["\u0275nov"](t,35)._avatar||l["\u0275nov"](t,35)._icon),e(t,41,0,l["\u0275unv"](t,41,0,e(t,42,0,l["\u0275nov"](t.parent.parent,1),n.calculationService.baseline.created,"medium"))),e(t,43,0,l["\u0275nov"](t,44)._container._contentMargins.left,l["\u0275nov"](t,44)._container._contentMargins.right)})}function Pt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","fadeIn"],["id","newAssessmentsSummary"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,xt)),l["\u0275did"](2,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(e,t){e(t,2,0,void 0!==t.component.calculationService.baseline,l["\u0275nov"](t.parent,5))},null)}function Rt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"loading-spinner",[],null,null,null,We.b,We.a)),l["\u0275did"](1,49152,null,0,Ue.a,[],null,null)],null,null)}function Et(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","row mt-15"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","col-xs-10 col-xs-offset-1"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"error-card",[["errorBody","404: The request URL was not found in the application."],["errorTitle","Baseline Not Found"]],null,null,null,Ve.b,Ve.a)),l["\u0275did"](4,49152,null,0,ze.a,[],{errorTitle:[0,"errorTitle"],errorBody:[1,"errorBody"]},null)],function(e,t){e(t,4,0,"Baseline Not Found","404: The request URL was not found in the application.")},null)}function Tt(e){return l["\u0275vid"](0,[l["\u0275pid"](0,He.a,[]),l["\u0275pid"](0,R.e,[l.LOCALE_ID]),(e()(),l["\u0275and"](16777216,null,null,1,null,Pt)),l["\u0275did"](3,16384,null,0,R.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["loadingBlock",2]],null,0,null,Rt)),(e()(),l["\u0275and"](0,[["notFound",2]],null,0,null,Et))],function(e,t){e(t,3,0,t.component.finishedLoading,l["\u0275nov"](t,4))},null)}var Mt=l["\u0275ccf"]("summary",wt,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"summary",[],null,null,null,Tt,kt)),l["\u0275did"](1,245760,null,0,wt,[E.a,E.l,ie.e,T.n,T.n,Ke.a,Qe.a,ye],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),It=n("ZYjt"),Bt=n("M2Lx"),Lt=n("uGex"),Dt=n("NaJL"),Nt=n("Axip"),Gt=n("4tE/"),Ft=n("mVsa"),qt=n("4epT"),Wt=n("LOpI"),Ut=n("t/Na"),Vt=n("7dP1"),zt=n("nb3L"),Ht=n("xYQj"),Yt=n("9Z1F"),Jt=function(){function e(e,t,n){this.router=e,this.store=t,this.baselineService=n,this.demoMode="DEMO"===jt.a.runMode,this.CREATE_URL="baseline/create"}return e.prototype.canActivate=function(e,t){var n=this;return this.store.select("users").pipe(Object(Je.a)(1),Object(f.a)("userProfile"),Object(_t.a)(function(e){return n.baselineService.getLatestAssessments().pipe(Object(g.a)(function(e){return void 0===e||0===e.length?(n.router.navigate([n.CREATE_URL]),!1):(n.router.navigate(["/baseline/result/summary",e[0].id]),!0)}),Object(Yt.a)(function(e){return console.log("error in route gaurd, routing to create page",e),n.router.navigate([n.CREATE_URL]),Object(Ye.a)(!1)}))}))},e}(),Zt=n("Blfk"),$t=n("w+lc"),Qt=n("4c35"),Kt=n("y4qS"),Xt=n("BHnd"),en=n("6TXw"),tn=n("6Wmm"),nn=n("u7R8"),ln=n("/dO6"),an=n("YhbO"),rn=n("jlZm"),sn=n("LC5p"),on=n("9It4"),un=n("8mMr"),cn=n("w1+i"),dn=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pn=function(e){var t={baselines:new Array,baseline:new Oe.AssessmentSet,blAttackPatterns:new Array,blCompleteAPs:0,blCompleteWeightings:0,blWeightings:{protPct:0,detPct:0,respPct:0},blGroups:new Array,summary:new Oe.AssessmentSet,finishedLoading:!1,summaryAggregations:[],finishedLoadingSummaryAggregationData:!1};return e&&Object.assign(t,e),t},bn=pn();function fn(e,t){switch(void 0===e&&(e=bn),t.type){case ut:return pn();case Xe:return pn(dn({},e));case et:return pn(dn({},e,{baselines:t.payload.slice()}));case tt:return pn(dn({},e,{baseline:t.payload}));case nt:return pn(dn({},e,{blAttackPatterns:t.payload.apList.slice(),blCompleteAPs:t.payload.completeAPs,blCompleteWeightings:t.payload.completeWeightings}));case lt:return pn(dn({},e,{blWeightings:t.payload}));case at:return pn(dn({},e,{blGroups:t.payload.slice()}));case rt:return pn(dn({},e,{finishedLoading:t.payload}));case ot:return pn(dn({},e,{finishedLoadingSummaryAggregationData:t.payload}));case st:return pn(dn({},e,{summaryAggregations:t.payload.slice()}));default:return e}}var mn=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hn=function(e){var t=new p.AssessmentSet;t.assessments=t.assessments||[];var n={allAttackPatterns:[],backButton:!1,baseline:t,baselineCapabilities:[],baselineGroups:[],capabilities:[],capabilityGroups:[],currentCapability:new p.Capability,currentCapabilityGroup:new p.Category,currentObjectAssessment:new p.ObjectAssessment,finishedLoading:!1,baselineObjAssessments:[],page:1,saved:{finished:!1,id:""},selectedFrameworkAttackPatterns:[],showSummary:!1};return e&&Object.assign(n,e),n},gn=hn();function vn(e,t){switch(void 0===e&&(e=gn),t.type){case u.i:return hn();case u.l:return hn(mn({},e));case u.K:case u.G:return hn(mn({},e,{baseline:t.payload}));case u.I:return hn(mn({},e,{baselineObjAssessments:t.payload}));case u.y:var n=t.payload,l=e.baselineGroups.filter(function(e){return e.id!==n.id});return hn(mn({},e,{baselineGroups:l.slice()}));case u.N:return hn(mn({},e,{capabilityGroups:t.payload.slice()}));case u.R:case u.L:return hn(mn({},e,{baselineGroups:t.payload.slice()}));case u.P:return hn(mn({},e,{currentCapabilityGroup:t.payload}));case u.M:return hn(mn({},e,{capabilities:t.payload.slice()}));case u.c:var i=e.baselineCapabilities.slice();return i.push(t.payload),hn(mn({},e,{baselineCapabilities:i}));case u.A:var a=t.payload[0],r=t.payload[1],s=e.baselineCapabilities.slice();return s[s.indexOf(a)]=r,hn(mn({},e,{baselineCapabilities:s}));case u.x:var o=t.payload.slice(),c=e.baselineCapabilities.slice();return o.forEach(function(e){var t=c.indexOf(e);c.splice(t,1)}),hn(mn({},e,{baselineCapabilities:c}));case u.H:return hn(mn({},e,{baselineCapabilities:t.payload.slice()}));case u.O:return hn(mn({},e,{currentCapability:t.payload}));case u.d:var d=t.payload,b=e.baseline;b.assessments.push(d.id);var f=e.baselineObjAssessments.slice();return f.push(d),hn(mn({},e,{baseline:b,baselineObjAssessments:f}));case u.z:var m=e.baseline,h=e.baselineObjAssessments;return t.payload.forEach(function(e){var t=h.findIndex(function(t){return t.id===e.id});h.splice(t,1);var n=m.assessments.findIndex(function(t){return t===e.id});m.assessments.splice(n,1)}),hn(mn({},e,{baseline:m,baselineObjAssessments:h}));case u.Q:return hn(mn({},e,{currentObjectAssessment:t.payload}));case u.J:return hn(mn({},e,{allAttackPatterns:t.payload.slice()}));case u.S:return hn(mn({},e,{selectedFrameworkAttackPatterns:t.payload.slice()}));case u.T:return hn(mn({},e,{baseline:t.payload}));case u.Ja:var g=new p.AssessmentSet;if("string"==typeof t.payload)g.name=t.payload;else{var v=t.payload;g.name=v.title,g.description=v.description,g.created_by_ref=v.created_by_ref}return hn(mn({},e,{baseline:g}));case u.o:return hn(mn({},e,{finishedLoading:t.payload,backButton:!0}));case u.p:return hn(mn({},e,{saved:mn({},t.payload)}));case u.F:case u.K:return hn(mn({},e,{baseline:t.payload}));default:return e}}var yn=n("jYNz"),On=n("G5J1"),_n=n("VNr4"),jn=n("psW0"),Cn=function(){function e(e,t,n,l,i){var a=this;this.router=e,this.location=t,this.actions$=n,this.baselineService=l,this.attackPatternService=i,this.fetchBaselineData=this.actions$.ofType(Xe).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){return a.baselineService.fetchBaselines(!0).pipe(Object(jn.a)(function(t){var n=t.find(function(t){return t.id===e});return[new dt(t),new pt(n)]}),Object(Yt.a)(function(e){return Object(On.b)()}))})),this.setBaseline=this.actions$.ofType(tt).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){return a.baselineService.fetchObjectAssessmentsByAssessmentSet(e)}),Object(jn.a)(function(e){var t=[],n=0,l=0,i=0,r=0,s=0,o=e.map(function(e){return e.assessed_objects.map(function(e){t.indexOf(e.assessed_object_ref)<0&&t.push(e.assessed_object_ref),e.questions.map(function(e){"protect"===e.name&&""!==e.score&&(i+=a.toWeight(e.score),l++),"detect"===e.name&&""!==e.score&&(r+=a.toWeight(e.score),l++),"respond"===e.name&&""!==e.score&&(s+=a.toWeight(e.score),l++)}),""!==e.questions[0].score&&""!==e.questions[1].score&&""!==e.questions[2].score&&(n+=1)}),a.baselineService.fetchCapability(e.object_ref)});return 0===o.length?[new bt({apList:t,completeAPs:n,completeWeightings:l}),new mt([])]:_n.a.apply(void 0,o).pipe(Object(jn.a)(function(e){var a=i,o=r,u=s;return[new bt({apList:t,completeAPs:n,completeWeightings:l}),new ft({protPct:a,detPct:o,respPct:u}),new mt(e)]}),Object(Yt.a)(function(e){return console.log(e),Object(On.b)()}))})),this.setAndReadCapabilities=this.actions$.ofType(it).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t=new Array;return e.map(function(e){t.indexOf(e.category)<0&&t.push(e.category)}),[new ht(t),new gt(!0)]}))}return e.prototype.toWeight=function(e){if(!e)return 0;switch(e.toLowerCase()){case"s":return.9;case"m":return.6;case"l":return.3;default:return 0}},Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"fetchBaselineData",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setAndReadCapabilities",void 0),e}(),An=n("IAiq"),Sn=n("/PH2"),wn=n("xMyE"),kn=n("sGzu"),xn=n("cc7B"),Pn=n("JsBv"),Rn=function(){function e(e,t,n,l,i,a,r,s){var o=this;this.actions$=e,this.attackPatternService=t,this.baselineService=n,this.baselineStateService=l,this.genericServiceApi=i,this.location=a,this.router=r,this.store=s,this.fetchBaseline=this.actions$.ofType(u.l).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){return o.baselineService.fetchAssessmentSet(e)}),Object(g.a)(function(e){return new u.V(e)})),this.setAndReadAssessmentSet=this.actions$.ofType(u.G).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){return o.baselineService.fetchObjectAssessmentsByAssessmentSet(e)}),Object(g.a)(function(e){return new u.X(e)})),this.setAndReadObjectAssessments=this.actions$.ofType(u.I).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t=e.map(function(e){return o.baselineService.fetchCapability(e.object_ref)});return 0===t.length?Object(Ye.a)(new u.W([])):_n.a.apply(void 0,t).pipe(Object(g.a)(function(e){return new u.W(e)}),Object(Yt.a)(function(e){return console.log(e),Object(Ye.a)(new u.q(!0))}))})),this.setAndReadCapabilities=this.actions$.ofType(u.H).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t=new Array;if(e.map(function(e){t.indexOf(e.category)<0&&t.push(e.category)}),0===t.length)return Object(Ye.a)(new Array);var n=t.map(function(e){return o.baselineService.fetchCategory(e)});return _n.a.apply(void 0,n)}),Object(g.a)(function(e){return new u.Ga(e)})),this.setInitialBaselineGroups=this.actions$.ofType(u.R).pipe(Object(f.a)("payload"),Object(g.a)(function(e){return new u.v(!0)})),this.setCurrentBaselineObjectAssessment=this.actions$.ofType(u.Q).pipe(Object(f.a)("payload"),Object(h.a)(function(e){return void 0!==e}),Object(_t.a)(function(e){var t={data:{attributes:e}},n=he.a.X_UNFETTER_OBJECT_ASSESSMENTS_URL;return e.id?o.genericServiceApi.patchAs(n=n+"/"+e.id,t):o.genericServiceApi.postAs(n,t)}),Object(_t.a)(function(){return Object(Ye.a)({})})),this.fetchCapabilityGroups=this.actions$.ofType(u.n).pipe(Object(_t.a)(function(){return o.baselineService.getCategories()}),Object(g.a)(function(e){return new u.Ca(e)})),this.fetchCapabilities=this.actions$.ofType(u.m).pipe(Object(_t.a)(function(){return o.baselineService.getCapabilities()}),Object(g.a)(function(e){return new u.Ba(e)})),this.fetchAttackPatterns=this.actions$.ofType(u.k).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t=Object(Ye.a)(e),n=o.attackPatternService.fetchAttackPatterns().pipe(Object(Yt.a)(function(e){return Object(Ye.a)([])}));return Object(_n.a)(t,n)}),Object(jn.a)(function(e){var t=e[0],n=e[1],l=n;return t&&(l=n.filter(function(e){return e&&e.kill_chain_phases.findIndex(function(e){return e.kill_chain_name===t})>-1})),[new u.Y(n),new u.Ha(l)]})),this.startAssessment=this.actions$.ofType(u.T).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t=new d;return t.title=e.name,t.description=e.description,t.created_by_ref=e.created_by_ref,o.baselineStateService.saveCurrent(t),o.genericServiceApi.postAs("api/v3/x-unfetter-assessment-sets",{data:{attributes:e}})}),Object(wn.a)(function(e){o.router.navigate(["/baseline/wizard/new"])}),Object(g.a)(function(e){return new u.Z(e[0].attributes)})),this.saveBaseline=this.actions$.ofType(u.F).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t={data:{attributes:e}},n=he.a.X_UNFETTER_ASSESSMENT_SETS_URL;return e.id?o.genericServiceApi.patchAs(n=n+"/"+e.id,t):o.genericServiceApi.postAs(n,t)}),Object(g.a)(function(e){return new u.w({finished:!0,id:e.id||""})})),this.addCapabilityGroup=this.actions$.ofType(u.b).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t={data:{attributes:e}},n=he.a.X_UNFETTER_CATEGORY_URL;return e.id?o.genericServiceApi.patchAs(n=n+"/"+e.id,t):o.genericServiceApi.postAs(n,t)}),Object(g.a)(function(e){return new u.u})),this.addCapability=this.actions$.ofType(u.a).pipe(Object(f.a)("payload"),Object(_t.a)(function(e){var t={data:{attributes:e}},n=he.a.X_UNFETTER_CAPABILITY_URL;return e.id?o.genericServiceApi.patchAs(n=n+"/"+e.id,t):o.genericServiceApi.postAs(n,t)}),Object(g.a)(function(e){return new u.t})),this.removeCapabilityGroupFromBaseline=this.actions$.ofType(u.y).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("baselineCapabilities"))),Object(g.a)(function(e){var t=e[0],n=e[1].filter(function(e){return e.category===t.id});return new u.B(n)})),this.addCapabilityToBaselineCapabilities=this.actions$.ofType(u.c).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("capabilityGroups"))),Object(jn.a)(function(e){var t=e[0],n=e[1],l=o.createObjAssessment(t),i=n.find(function(e){return e.id===t.category});return l.assessed_objects=i.assessed_objects,o.genericServiceApi.postAs(he.a.X_UNFETTER_OBJECT_ASSESSMENTS_URL,{data:{attributes:l}}).pipe(Object(g.a)(Pn.a.mapAttributes),Object(g.a)(function(e){return new u.h(e[0])}),Object(Yt.a)(function(e){return console.log(e),Object(Ye.a)()}))})),this.replaceCapabilityInBaseline=this.actions$.ofType(u.A).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("baselineObjAssessments"))),Object(jn.a)(function(e){var t=e[0],n=e[1],l=o.createObjAssessment(t[1]),i=n.filter(function(e){return e.object_ref===t[0].id});return[new u.h(l),new u.D(i)]})),this.addObjectAssessmentToBaseline=this.actions$.ofType(u.d).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("baseline"))),Object(jn.a)(function(e){var t=e[1],n=he.a.X_UNFETTER_ASSESSMENT_SETS_URL;return o.genericServiceApi.patchAs(n=n+"/"+t.id,{data:{attributes:t}}).pipe(Object(g.a)(Pn.a.mapAttributes),Object(g.a)(function(e){return new u.Z(e)}),Object(Yt.a)(function(e){return console.log(e),Object(Ye.a)()}))})),this.removeCapabilitiesFromBaselineCapabilities=this.actions$.ofType(u.x).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("baselineObjAssessments"))),Object(jn.a)(function(e){var t=e[0],n=e[1],l=new Array,i=t.map(function(e){var t=n.find(function(t){return t.object_ref===e.id});return l.push(t),o.genericServiceApi.delete(he.a.X_UNFETTER_OBJECT_ASSESSMENTS_URL+"/"+t.id)});return _n.a.apply(void 0,i).pipe(Object(g.a)(function(e){return new u.D(l)}),Object(Yt.a)(function(e){return console.log(e),Object(Ye.a)(new u.q(!0))}))})),this.removeObjectAssessmentsFromBaseline=this.actions$.ofType(u.z).pipe(Object(f.a)("payload"),Object(Sn.a)(this.store.select("baseline").pipe(Object(f.a)("baseline"))),Object(jn.a)(function(e){var t=e[1];return o.genericServiceApi.patch(he.a.X_UNFETTER_ASSESSMENT_SETS_URL+"/"+t.id,{data:{attributes:t}}).pipe(Object(g.a)(Pn.a.mapAttributes),Object(g.a)(function(e){return new u.Z(e)}),Object(Yt.a)(function(e){return console.log(e),Object(Ye.a)()}))}))}return e.prototype.createObjAssessment=function(e){var t=new p.ObjectAssessment;t.object_ref=e.id,t.assessed_objects=[];var n=new kn.ExpandedStix;return n.type=xn.StixEnum.OBJECT_ASSESSMENT,n.description=e.description,n.name=e.name,n.created_by_ref=e.created_by_ref,Object.assign(t,n),t},Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"fetchBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setAndReadAssessmentSet",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setAndReadObjectAssessments",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setAndReadCapabilities",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"setInitialBaselineGroups",void 0),Object(ge.__decorate)([Object(yn.b)({dispatch:!1}),Object(ge.__metadata)("design:type",Object)],e.prototype,"setCurrentBaselineObjectAssessment",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"fetchCapabilityGroups",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"fetchCapabilities",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"fetchAttackPatterns",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"startAssessment",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"saveBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"addCapabilityGroup",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"addCapability",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"removeCapabilityGroupFromBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"addCapabilityToBaselineCapabilities",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"replaceCapabilityInBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"addObjectAssessmentToBaseline",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"removeCapabilitiesFromBaselineCapabilities",void 0),Object(ge.__decorate)([Object(yn.b)(),Object(ge.__metadata)("design:type",Object)],e.prototype,"removeObjectAssessmentsFromBaseline",void 0),e}(),En=n("w1EH"),Tn=function(){function e(e){if(this.parent=e,this.metaDataSubject=new v.a(new d),this.metaData$=this.metaDataSubject.asObservable(),e)throw new Error("BaselineStateService is already loaded.")}return e.prototype.saveCurrent=function(e){return this.metaDataSubject.next(e),this.metaData$},e.prototype.currentMeta=function(){return this.metaData$.pipe(Object(En.a)())},e.ngInjectableDef=l.defineInjectable({factory:function(){return new e(l.inject(e,12))},token:e,providedIn:"root"}),e}(),Mn=n("bEtF"),In=function(){},Bn=n("YSh2"),Ln=n("Wmeo");n.d(t,"BaselineModuleNgFactory",function(){return Dn});var Dn=l["\u0275cmf"](O,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[_.a,j.a,C.a,A.a,D,$,Mt]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,R.q,R.p,[l.LOCALE_ID,[2,R.E]]),l["\u0275mpd"](4608,c.g,c.g,[]),l["\u0275mpd"](4608,c.B,c.B,[]),l["\u0275mpd"](4608,It.f,q.e,[[2,q.i],[2,q.n]]),l["\u0275mpd"](4608,Le.c,Le.c,[Le.i,Le.e,l.ComponentFactoryResolver,Le.h,Le.f,l.Injector,l.NgZone,R.d,W.b]),l["\u0275mpd"](5120,Le.j,Le.k,[Le.c]),l["\u0275mpd"](4608,Bt.c,Bt.c,[]),l["\u0275mpd"](5120,Lt.a,Lt.b,[Le.c]),l["\u0275mpd"](5120,Dt.b,Dt.c,[]),l["\u0275mpd"](5120,Nt.d,Nt.a,[It.b,Dt.b,[3,Nt.d]]),l["\u0275mpd"](5120,Gt.b,Gt.c,[Le.c]),l["\u0275mpd"](4608,q.d,q.d,[]),l["\u0275mpd"](5120,ie.c,ie.d,[Le.c]),l["\u0275mpd"](4608,ie.e,ie.e,[Le.c,l.Injector,[2,R.j],[2,ie.b],ie.c,[3,ie.e],Le.e]),l["\u0275mpd"](5120,Ft.b,Ft.g,[Le.c]),l["\u0275mpd"](5120,Be.b,Be.c,[Le.c]),l["\u0275mpd"](5120,qt.c,qt.a,[[3,qt.c]]),l["\u0275mpd"](4608,Wt.c,Wt.c,[[2,Ut.c],It.c,Wt.d]),l["\u0275mpd"](4608,Vt.a,Vt.a,[E.l,T.n]),l["\u0275mpd"](4608,zt.a,zt.a,[]),l["\u0275mpd"](4608,Ht.a,Ht.a,[]),l["\u0275mpd"](4608,ye,ye,[]),l["\u0275mpd"](4608,Jt,Jt,[E.l,T.n,Ke.a]),l["\u0275mpd"](1073742336,R.c,R.c,[]),l["\u0275mpd"](1073742336,c.y,c.y,[]),l["\u0275mpd"](1073742336,c.v,c.v,[]),l["\u0275mpd"](1073742336,c.n,c.n,[]),l["\u0275mpd"](1073742336,E.p,E.p,[[2,E.v],[2,E.l]]),l["\u0275mpd"](1073742336,W.a,W.a,[]),l["\u0275mpd"](1073742336,q.n,q.n,[[2,q.f]]),l["\u0275mpd"](1073742336,a.h,a.h,[]),l["\u0275mpd"](1073742336,Zt.c,Zt.c,[]),l["\u0275mpd"](1073742336,$t.b,$t.b,[]),l["\u0275mpd"](1073742336,Qt.g,Qt.g,[]),l["\u0275mpd"](1073742336,w.b,w.b,[]),l["\u0275mpd"](1073742336,me.b,me.b,[]),l["\u0275mpd"](1073742336,Le.g,Le.g,[]),l["\u0275mpd"](1073742336,q.z,q.z,[]),l["\u0275mpd"](1073742336,q.x,q.x,[]),l["\u0275mpd"](1073742336,q.u,q.u,[]),l["\u0275mpd"](1073742336,Bt.d,Bt.d,[]),l["\u0275mpd"](1073742336,N.e,N.e,[]),l["\u0275mpd"](1073742336,Lt.d,Lt.d,[]),l["\u0275mpd"](1073742336,Kt.p,Kt.p,[]),l["\u0275mpd"](1073742336,Xt.m,Xt.m,[]),l["\u0275mpd"](1073742336,k.a,k.a,[]),l["\u0275mpd"](1073742336,fe.j,fe.j,[]),l["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),l["\u0275mpd"](1073742336,Nt.c,Nt.c,[]),l["\u0275mpd"](1073742336,Wt.b,Wt.b,[]),l["\u0275mpd"](1073742336,en.b,en.b,[]),l["\u0275mpd"](1073742336,Gt.e,Gt.e,[]),l["\u0275mpd"](1073742336,tn.b,tn.b,[]),l["\u0275mpd"](1073742336,i.c,i.c,[]),l["\u0275mpd"](1073742336,nn.d,nn.d,[]),l["\u0275mpd"](1073742336,r.c,r.c,[]),l["\u0275mpd"](1073742336,ln.e,ln.e,[]),l["\u0275mpd"](1073742336,ie.k,ie.k,[]),l["\u0275mpd"](1073742336,an.c,an.c,[]),l["\u0275mpd"](1073742336,rn.c,rn.c,[]),l["\u0275mpd"](1073742336,s.b,s.b,[]),l["\u0275mpd"](1073742336,U.c,U.c,[]),l["\u0275mpd"](1073742336,o.c,o.c,[]),l["\u0275mpd"](1073742336,q.p,q.p,[]),l["\u0275mpd"](1073742336,sn.a,sn.a,[]),l["\u0275mpd"](1073742336,ce.d,ce.d,[]),l["\u0275mpd"](1073742336,Ft.e,Ft.e,[]),l["\u0275mpd"](1073742336,Be.e,Be.e,[]),l["\u0275mpd"](1073742336,qt.d,qt.d,[]),l["\u0275mpd"](1073742336,on.c,on.c,[]),l["\u0275mpd"](1073742336,K.h,K.h,[]),l["\u0275mpd"](1073742336,un.b,un.b,[]),l["\u0275mpd"](1073742336,cn.a,cn.a,[]),l["\u0275mpd"](1073742336,De.ChartsModule,De.ChartsModule,[]),l["\u0275mpd"](1024,T.j,function(){return[{key:"baselineSummary",reducerFactory:T.z,metaReducers:[],initialState:void 0},{key:"baseline",reducerFactory:T.z,metaReducers:[],initialState:void 0}]},[]),l["\u0275mpd"](1024,T.q,function(){return[fn,vn]},[]),l["\u0275mpd"](1024,T.r,function(e,t){return[e,t]},[T.q,T.q]),l["\u0275mpd"](1024,T.b,function(e,t,n,l,i,a){return[T.w(e,t,n),T.w(l,i,a)]},[l.Injector,T.q,T.r,l.Injector,T.q,T.r]),l["\u0275mpd"](1073873408,T.o,T.o,[T.j,T.b,T.g,T.p]),l["\u0275mpd"](512,Cn,Cn,[E.l,R.j,yn.a,Ke.a,An.a]),l["\u0275mpd"](512,Rn,Rn,[yn.a,An.a,Ke.a,Tn,Mn.a,R.j,E.l,T.n]),l["\u0275mpd"](1024,yn.i,function(e,t){return[yn.e(e),yn.e(t)]},[Cn,Rn]),l["\u0275mpd"](1073742336,yn.g,yn.g,[yn.f,yn.i,[2,T.p],[2,T.o]]),l["\u0275mpd"](1073742336,In,In,[]),l["\u0275mpd"](1073742336,O,O,[]),l["\u0275mpd"](256,ln.a,{separatorKeyCodes:[Bn.f]},[]),l["\u0275mpd"](256,Wt.d,cn.b,[]),l["\u0275mpd"](256,Ln.a,cn.c,[]),l["\u0275mpd"](1024,E.j,function(){return[[{path:"navigate",canActivate:[Jt]},{path:"",component:y,children:[{path:"create",component:b},{path:"wizard/new",loadChildren:"app/baseline/wizard/wizard.module#WizardModule"},{path:"wizard/edit/:baselineId",loadChildren:"app/baseline/wizard/wizard.module#WizardModule"}]},{path:"result/summary/:baselineId",component:wt}]]},[])])})},M8lA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("cc7B"),i=n("lUYK");t.Question=function(){function e(){this.type=l.StixEnum.QUESTION,this.score=i.QuestionAnswerEnum.UNANSWERED}return e.prototype.toLongForm=function(e){switch(e){case i.QuestionAnswerEnum.LOW:return"LOW";case i.QuestionAnswerEnum.MEDIUM:return"MEDIUM";case i.QuestionAnswerEnum.SIGNIFICANT:return"SIGNIFICANT";case i.QuestionAnswerEnum.NOT_APPLICABLE:return"NOT APPLICABLE";case i.QuestionAnswerEnum.NONE:return"NONE";case i.QuestionAnswerEnum.UNANSWERED:return"UNANSWERED"}},e.prototype.toMIR=function(e){if(!e)return e;switch(e.toLowerCase()){case"protect":return"mitigate";case"detect":return"indicate";case"respond":return"respond";default:return}},e}()},cc7B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ARTICLE="x-unfetter-article",e.ASSESSED_OBJECT="x-unfetter-assessed-object",e.ASSESSMENT="x-unfetter-assessment",e.ASSESSMENT_GROUP="x-unfetter-assessment-group",e.ASSESSMENT_SET="x-unfetter-assessment-set",e.CAPABILITY="x-unfetter-capability",e.CATEGORY="x-unfetter-category",e.OBJECT_ASSESSMENT="x-unfetter-object-assessment",e.QUESTION="x-unfetter-question",e.SENSOR="x-unfetter-sensor",e.THREAT_BOARD="x-threat-board"}(t.StixEnum||(t.StixEnum={}))},fFUH:function(e,t,n){"use strict";var l=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var i=n("sGzu"),a=n("cc7B");t.ObjectAssessment=function(e){function t(t){var n=e.call(this,t)||this;return n.type=a.StixEnum.OBJECT_ASSESSMENT,n}return l(t,e),t}(i.ExpandedStix)},kZVK:function(e,t,n){"use strict";var l=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var i=n("sGzu"),a=n("cc7B");t.Category=function(e){function t(t){var n=e.call(this,t)||this;return n.type=a.StixEnum.CATEGORY,n.assessed_objects=n.assessed_objects||[],n}return l(t,e),t}(i.ExpandedStix)},lUYK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SIGNIFICANT="S",e.MEDIUM="M",e.LOW="L",e.NOT_APPLICABLE="NA",e.UNANSWERED="",e.NONE="N"}(t.QuestionAnswerEnum||(t.QuestionAnswerEnum={}))},lsDG:function(e,t,n){"use strict";var l=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var i=n("sGzu"),a=n("cc7B");t.Capability=function(e){function t(t){var n=e.call(this,t)||this;return n.type=a.StixEnum.CAPABILITY,n}return l(t,e),t}(i.ExpandedStix)},nZsJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("cc7B");t.AssessmentSet=function(){return function(){this.created=(new Date).toISOString(),this.type=l.StixEnum.ASSESSMENT_SET}}()},pwuq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentGroup=function(){return function(){this.created=(new Date).toISOString()}}()},sZoI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("cc7B");t.AssessedObject=function(){return function(){this.type=l.StixEnum.ASSESSED_OBJECT,this.questions=this.questions||[]}}()},z6jJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("sZoI");t.AssessedObject=l.AssessedObject;var i=n("pwuq");t.AssessmentGroup=i.AssessmentGroup;var a=n("nZsJ");t.AssessmentSet=a.AssessmentSet;var r=n("lsDG");t.Capability=r.Capability;var s=n("kZVK");t.Category=s.Category;var o=n("fFUH");t.ObjectAssessment=o.ObjectAssessment;var u=n("lUYK");t.QuestionAnswerEnum=u.QuestionAnswerEnum;var c=n("M8lA");t.Question=c.Question}}]);